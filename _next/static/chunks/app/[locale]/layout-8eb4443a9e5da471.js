(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8450],{411:(e,r,a)=>{"use strict";a.d(r,{ThemeProvider:()=>m});var t=a(81556),n=a(47256),i=a(73153),l=a(40696),o=a(91765),s=a(85550),c=a(754),d=a(85110),u=a(83576);let _=(0,n.createContext)(void 0);function m(e){let{children:r,defaultTheme:a="dark"}=e,[m,p]=(0,n.useState)(a),[g,h]=(0,n.useState)(!1),v=(0,n.useRef)(!1);(0,n.useEffect)(()=>{if(u.El.hasRun(u.El.KEYS.THEME)){let e=window.__THEME_APPLIED__;e&&p(e),h(!0);return}v.current||(v.current=!0,(async()=>{try{let e=await (0,d.O4)();p(e),window.__THEME_APPLIED__=e}catch(e){o.errorTracker.report(e,{errorCode:s.F4.FILE_READ_ERROR,component:"ThemeContext",action:"loadTheme",severity:c.MU.LOW})}finally{u.El.markAsRun(u.El.KEYS.THEME),h(!0)}})())},[]),(0,n.useEffect)(()=>{g&&(async()=>{if(document.documentElement.setAttribute("data-theme",m),window.__THEME_APPLIED__!==m)try{await (0,d.hy)(m)}catch(e){o.errorTracker.report(e,{errorCode:s.F4.FILE_WRITE_ERROR,component:"ThemeContext",action:"saveTheme",severity:c.MU.LOW,metadata:{theme:m}})}if(l.Ii.isNativePlatform()&&!window.__STATUSBAR_SET__)try{await i.Pp.setSystemBarsStyle({style:i.x7.Dark}),window.__STATUSBAR_SET__=!0,o.vF.debug("Status bar style set to Dark")}catch(e){o.vF.error("Failed to update system bars",{theme:m,error:e.message})}if(l.Ii.isNativePlatform()&&!window.__FULLSCREEN_SET__)try{await i.Pp.hideSystemBars({}),window.__FULLSCREEN_SET__=!0,o.vF.debug("Fullscreen mode enabled: system bars hidden"),(()=>{let e=()=>{window.__FULLSCREEN_REHIDE_TIMER__&&clearTimeout(window.__FULLSCREEN_REHIDE_TIMER__),window.__FULLSCREEN_REHIDE_TIMER__=setTimeout(async()=>{try{await i.Pp.hideSystemBars({}),o.vF.debug("System bars auto-hidden after user interaction")}catch(e){}},2e3)};return document.addEventListener("touchend",e,{passive:!0}),()=>{document.removeEventListener("touchend",e),window.__FULLSCREEN_REHIDE_TIMER__&&clearTimeout(window.__FULLSCREEN_REHIDE_TIMER__)}})()}catch(e){o.vF.error("Failed to hide system bars",{error:e.message})}window.__THEME_APPLIED__=m})()},[m,g]);let x=(0,n.useCallback)(e=>{window.__THEME_APPLIED__!==e&&p(e)},[]),y=(0,n.useCallback)(()=>{p(e=>"light"===e?"dark":"light")},[]);return(0,t.jsx)(_.Provider,{value:{theme:g?m:a,setTheme:x,toggleTheme:y},children:r})}},3455:e=>{e.exports={slider:"Slider_slider__lBA16","slider--range":"Slider_slider--range__PnKg9","slider--disabled":"Slider_slider--disabled__lhiHH"}},11188:(e,r,a)=>{"use strict";a.d(r,{MiniPlayerPageWrapper:()=>o});var t=a(81556);a(47256);var n=a(47469),i=a(38151),l=a.n(i);let o=e=>{let{children:r,className:a=""}=e,{visible:i}=(0,n.F)();return(0,t.jsx)("div",{className:"".concat(l().wrapper," ").concat(i?l().withMiniPlayer:""," ").concat(a),children:r})};o.displayName="MiniPlayerPageWrapper"},11761:e=>{e.exports={miniPlayer:"MiniPlayer_miniPlayer__GrDcT",hasTabBar:"MiniPlayer_hasTabBar__HgEUG",noTabBar:"MiniPlayer_noTabBar__so0Pw",content:"MiniPlayer_content__9KUDq",imageWrap:"MiniPlayer_imageWrap__smcYo",image:"MiniPlayer_image__wzX5Y",imageElement:"MiniPlayer_imageElement__r7XAh",trackInfo:"MiniPlayer_trackInfo__WN_LJ",noAudio:"MiniPlayer_noAudio__gYopI",titleRow:"MiniPlayer_titleRow__iADqr",titleMask:"MiniPlayer_titleMask__Zem7p",title:"MiniPlayer_title__uuY_S",marquee:"MiniPlayer_marquee__oO8wY","marquee-scroll":"MiniPlayer_marquee-scroll___bMFr",titleText:"MiniPlayer_titleText__ykuZ8",closeButton:"MiniPlayer_closeButton__UrUzI",progressBar:"MiniPlayer_progressBar__wsmHr",progressTrack:"MiniPlayer_progressTrack__7Cvtv",progressBarComponent:"MiniPlayer_progressBarComponent__Fe0wn",timeRemaining:"MiniPlayer_timeRemaining__jg20C",timeText:"MiniPlayer_timeText__xSesT",playButton:"MiniPlayer_playButton__PMiy4",nextButton:"MiniPlayer_nextButton__bC0__"}},14579:e=>{e.exports={audioOption:"MultiAudioSheet_audioOption__3KhZ0",audioLabel:"MultiAudioSheet_audioLabel__0kSnN","audioLabel--selected":"MultiAudioSheet_audioLabel--selected___aEXA"}},22456:(e,r,a)=>{"use strict";a.d(r,{R:()=>t.R});var t=a(87678)},25953:(e,r,a)=>{"use strict";a.d(r,{VenueProvider:()=>g,Z:()=>h});var t=a(81556),n=a(47256),i=a(47077),l=a(28404),o=a(91765),s=a(47251),c=a(7241),d=a(50861),u=a(13588);let _=(0,n.createContext)(void 0),m={languages:[...u.Fc],languageNames:{...u.G2}},p={versions:[...u.MB],versionNames:{...u.v4}};function g(e){let{children:r}=e,[a,g]=(0,n.useState)(null),[h,v]=(0,n.useState)(!0),[x,y]=(0,n.useState)(null),[b,f]=(0,n.useState)([]),[w,k]=(0,n.useState)([]),C=(0,s.Ym)(),{version:j}=(0,c.t)(),P=(0,d.MV)(),N=(0,n.useCallback)(async()=>{try{v(!0),y(null),o.vF.info("[VenueContext] Loading venue_uid from system_info",{});let e=await (0,i.$4)(C,j);g(e),o.vF.info("[VenueContext] venue_uid loaded",{uid:e})}catch(r){let e=r instanceof Error?r.message:"Unknown error";o.vF.error("[VenueContext] Failed to load venue_uid",{error:e}),y(e)}finally{v(!1)}},[C,j]),S=(0,n.useCallback)(async()=>{try{var e,r,a,t;let n=await (0,i.yV)(C,j),s=!1,c=!1;if(o.vF.info("[VenueContext] systemInfo loaded",{hasVenues:!!(null==n?void 0:n.venues),venuesLength:null==n||null==(e=n.venues)?void 0:e.length,firstVenue:(null==n||null==(r=n.venues)?void 0:r[0])?{uid:n.venues[0].uid,supported_languages:n.venues[0].supported_languages,supported_contents:n.venues[0].supported_contents}:null}),(null==n?void 0:n.venues)&&n.venues.length>0){let e=n.venues[0];e.supported_languages&&e.supported_languages.length>0&&(f(e.supported_languages),s=!0,o.vF.info("[VenueContext] Loaded supported_languages from systemInfo",{languages:e.supported_languages})),e.supported_contents&&e.supported_contents.length>0&&(k(e.supported_contents),c=!0,o.vF.info("[VenueContext] Loaded supported_contents from systemInfo",{contents:e.supported_contents}))}if(!s||!c){o.vF.info("[VenueContext] systemInfo missing data, trying package_info",{hasLanguages:s,hasContents:c});let e=await (0,l.QE)();o.vF.info("[VenueContext] packageInfo loaded",{hasPackageInfo:!!e,supported_languages:null==e?void 0:e.supported_languages,supported_contents:null==e?void 0:e.supported_contents}),e?(!s&&(null==(a=e.supported_languages)?void 0:a.length)>0&&(f(e.supported_languages),o.vF.info("[VenueContext] Loaded supported_languages from package_info",{languages:e.supported_languages})),!c&&(null==(t=e.supported_contents)?void 0:t.length)>0&&(k(e.supported_contents),o.vF.info("[VenueContext] Loaded supported_contents from package_info",{contents:e.supported_contents}))):o.vF.warn("[VenueContext] No package_info available, using defaults")}}catch(e){o.vF.warn("[VenueContext] Failed to load system config, using defaults",{error:e instanceof Error?e.message:"Unknown error"})}},[C,j]);(0,n.useEffect)(()=>{if(!P)return void o.vF.debug("[VenueContext] Waiting for setup to complete...");N()},[N,P]),(0,n.useEffect)(()=>{P&&S()},[S,P]);let T=(0,n.useMemo)(()=>{if(0===b.length)return m;let e=b.filter(e=>u.Fc.includes(e)),r={};return e.forEach(e=>{r[e]=u.G2[e]||e}),{languages:e.length>0?e:m.languages,languageNames:Object.keys(r).length>0?r:m.languageNames}},[b]),E=(0,n.useMemo)(()=>{if(0===w.length)return p;let e=w.filter(e=>u.MB.includes(e)),r={};return e.forEach(e=>{r[e]=u.v4[e]||e}),{versions:e.length>0?e:p.versions,versionNames:Object.keys(r).length>0?r:p.versionNames}},[w]),I=(0,n.useMemo)(()=>({venueUid:a,isLoading:h,error:x,reload:N,languageConfig:T,versionConfig:E}),[a,h,x,N,T,E]);return(0,t.jsx)(_.Provider,{value:I,children:r})}function h(){let e=(0,n.useContext)(_);if(void 0===e)throw Error("useVenue must be used within a VenueProvider");return e}},29303:e=>{e.exports={actionSheet:"ActionSheet_actionSheet__LeRRt"}},37105:(e,r,a)=>{"use strict";a.d(r,{InitialSetupGuard:()=>o,default:()=>s});var t=a(81556),n=a(50861),i=a(85514);function l(e){let{children:r}=e,{status:a,showWelcome:l}=(0,n.vN)();return"checking"===a||"loading_venues"===a||l||"confirm_cellular"===a||"downloading"===a||"error"===a?(0,t.jsx)(i.WelcomeScreen,{}):(0,t.jsx)(t.Fragment,{children:r})}function o(e){let{children:r}=e;return(0,t.jsx)(n.Xd,{children:(0,t.jsx)(l,{children:r})})}let s=o},37197:e=>{e.exports={swiperContainer:"Swiper_swiperContainer__3UgXX",swiperContainerFluid:"Swiper_swiperContainerFluid__DEoJY",fluidTrack:"Swiper_fluidTrack__q7Wyb",fluidSlide:"Swiper_fluidSlide__jj0Ro",imageWrapper:"Swiper_imageWrapper__rE_kH",image:"Swiper_image__z4Gqc",indicator:"Swiper_indicator__QDWo6",dot:"Swiper_dot__HJmw0",dotActive:"Swiper_dotActive__AsrLm",zoomButton:"Swiper_zoomButton__sWQGF"}},38151:e=>{e.exports={wrapper:"MiniPlayerPageWrapper_wrapper__TSEyr",withMiniPlayer:"MiniPlayerPageWrapper_withMiniPlayer__7ZK1x"}},40103:e=>{e.exports={audioPlayer:"AudioPlayer_audioPlayer__LCvdB","audioPlayer--expanded":"AudioPlayer_audioPlayer--expanded__CnOCK",navBar_transparent:"AudioPlayer_navBar_transparent__pUmCu",backgroundImage:"AudioPlayer_backgroundImage__BD6yt",mainContent:"AudioPlayer_mainContent__88XmH"}},42247:e=>{e.exports={playingTab:"PlayingTab_playingTab__XEtDw",content:"PlayingTab_content__z7kOF",carouselImages:"PlayingTab_carouselImages__gRCDq",imageCarousel:"PlayingTab_imageCarousel__zN1wG",workCardPlayerWrapper:"PlayingTab_workCardPlayerWrapper__Vdons",transcriptionSection:"PlayingTab_transcriptionSection__f5_rA",transcriptionText:"PlayingTab_transcriptionText__Pdr8e",titleSection:"PlayingTab_titleSection__phtRl",audioSelector:"PlayingTab_audioSelector__U1rRf",audioName:"PlayingTab_audioName___uyYg",dropdownIcon:"PlayingTab_dropdownIcon__bHAu2",artworkTitle:"PlayingTab_artworkTitle__U3IQq",noAudioMessage:"PlayingTab_noAudioMessage__E8njV",playerControls:"PlayingTab_playerControls__qnGlz",functionArea:"PlayingTab_functionArea__FfAQv",functionMenu:"PlayingTab_functionMenu__Sgc0u",spacer:"PlayingTab_spacer__3GAs9",subtitleButton:"PlayingTab_subtitleButton__B72IQ",speedButton:"PlayingTab_speedButton__4cxTc",speedText:"PlayingTab_speedText__0MNCp",progressBar:"PlayingTab_progressBar__mC6Ln",slider:"PlayingTab_slider__Yn3rW",timeLabels:"PlayingTab_timeLabels__iIgqt",currentTime:"PlayingTab_currentTime__Sv20r",remainingTime:"PlayingTab_remainingTime__kyxHk",playerButtons:"PlayingTab_playerButtons__gg_Ks",controlButton:"PlayingTab_controlButton__7nv_n",playPauseButton:"PlayingTab_playPauseButton__H6LBp",seekButton:"PlayingTab_seekButton__tHCWu",seekLabel:"PlayingTab_seekLabel__IvmNe",volumeController:"PlayingTab_volumeController__AkPCJ",volumeSlider:"PlayingTab_volumeSlider__rCux0"}},45559:(e,r,a)=>{"use strict";a.d(r,{AudioPlayer:()=>ex});var t=a(81556),n=a(47256),i=a(34739),l=a(47251),o=a(54961),s=a(47469),c=a(7241),d=a(3226),u=a(28353),_=a(93257),m=a(85110),p=a(91765),g=a(754),h=a(85550),v=a(52728),x=a(35566),y=a(79131),b=a(83678),f=a(29303),w=a.n(f);let k=e=>{let{actions:r,extra:a,cancelText:n,visible:i,onClose:l,onAction:o,className:s,...c}=e;return(0,t.jsx)(b.Ee,{...c,visible:i,onClose:l,extra:a,cancelText:n,actions:r,onAction:(e,a)=>{let t=r[a];t.onClick&&t.onClick(),o&&o(t,a)},className:"".concat(w().actionSheet," ").concat(s||"")})};k.displayName="ActionSheet";var C=a(77743),j=a.n(C);let P=[.5,.75,1,1.25,1.5,1.75,2],N=e=>{let{visible:r,currentSpeed:a,onClose:n,onSpeedChange:l,className:o}=e,s=(0,i.c3)("playbackSpeed"),c=P.map(e=>{let r=e===a,i=[j().speedLabel,r&&j()["speedLabel--selected"]].filter(Boolean).join(" ");return{key:e.toString(),text:(0,t.jsx)("div",{className:j().speedOption,children:(0,t.jsxs)("span",{className:i,"aria-current":r?"true":void 0,children:[e,s("speedUnit")]})}),onClick:()=>{l(e),n()}}});return(0,t.jsx)(k,{visible:r,onClose:n,extra:s("title"),cancelText:s("cancel"),actions:c,className:"".concat(j().playbackSpeedSheet," ").concat(o||"")})};N.displayName="PlaybackSpeedSheet";var S=a(14579),T=a.n(S);let E=e=>{let{visible:r,audioFiles:a,currentAudioID:n,onClose:l,onAudioChange:o,className:s}=e,c=(0,i.c3)("multiAudio"),d=a.map(e=>{let r=e.id===n,a=[T().audioLabel,r&&T()["audioLabel--selected"]].filter(Boolean).join(" ");return{key:e.id,text:(0,t.jsx)("div",{className:T().audioOption,children:(0,t.jsx)("span",{className:a,"aria-current":r?"true":void 0,children:e.audioName})}),onClick:()=>{o(e),l()}}});return(0,t.jsx)(k,{visible:r,actions:d,cancelText:c("cancel"),onClose:l,extra:c("title"),className:s})};var I=a(87678),L=a(88852),F=a(95610),M=a(39660),D=a(22456),W=a(51843),B=a.n(W);let R=e=>{let{images:r,imageAlt:a,title:i,location:l,state:o="default",showSearchButton:s=!1,onSearchClick:c,onClick:d,disableClick:u=!1,className:_=""}=e,m="minimized"===o,p=(0,n.useRef)(null),g=(0,n.useRef)(null),[h,v]=(0,n.useState)(!1),x=r.map((e,r)=>({src:e,alt:a||"".concat(i," - 圖片 ").concat(r+1)}));(0,n.useEffect)(()=>{if(!m||!p.current||!g.current)return void v(!1);let e=p.current,r=g.current,a=e.scrollWidth;if(a>r.clientWidth){v(!0);let r=a+40;e.style.setProperty("--marquee-distance","-".concat(r,"px")),e.style.setProperty("--marquee-duration","".concat(r/30,"s"))}else v(!1)},[i,m]);let y="".concat(B().workCardPlayer," ").concat(B()["workCardPlayer--".concat(o)]," ").concat(u?B()["workCardPlayer--disableClick"]:""," ").concat(_).trim(),b="".concat(B().workCardPlayer__title," ").concat(h?B()["workCardPlayer__title--marquee"]:"").trim();if(m){let e=!u&&d?d:void 0;return(0,t.jsxs)("div",{className:y,onClick:e,role:e?"button":void 0,tabIndex:e?0:void 0,onKeyDown:r=>{e&&("Enter"===r.key||" "===r.key)&&(r.preventDefault(),e())},children:[(0,t.jsx)("div",{className:B().workCardPlayer__imageWrapper,children:(0,t.jsx)(M.$,{src:r[0],alt:a||i,width:48,height:48,className:B().workCardPlayer__image})}),(0,t.jsxs)("div",{className:B().workCardPlayer__info,children:[(0,t.jsx)("div",{className:B().workCardPlayer__location,children:(0,t.jsx)("span",{children:l})}),(0,t.jsx)("div",{ref:g,className:B().workCardPlayer__titleMask,children:(0,t.jsxs)("p",{ref:p,className:b,children:[h&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:B().workCardPlayer__titleText,children:i}),(0,t.jsx)("span",{className:B().workCardPlayer__titleText,children:i})]}),!h&&i]})})]})]})}return(0,t.jsxs)("div",{className:y,children:[(0,t.jsx)("div",{className:B().workCardPlayer__swiperWrapper,children:(0,t.jsx)(D.R,{images:x,showZoomButton:s,className:B().workCardPlayer__swiper})}),(0,t.jsxs)("div",{className:B().workCardPlayer__info,children:[(0,t.jsx)("div",{className:B().workCardPlayer__location,children:(0,t.jsx)("span",{children:l})}),(0,t.jsx)("div",{className:B().workCardPlayer__title,children:(0,t.jsx)("span",{className:B().workCardPlayer__titleText,children:i})})]})]})};R.displayName="WorkCardPlayer";var A=a(42247),V=a.n(A);let z=e=>{var r;let{className:a,onSpeedButtonClick:l,onMultiAudioButtonClick:o}=e,c=(0,i.c3)("audioPlayer"),{currentTrack:d,isPlaying:u,togglePlayPause:_,next:m,previous:p,playbackSpeed:g,volume:h,setVolume:x,currentAudioIndex:y,seek:b,skipForward:f,skipBackward:w,subscribeToProgress:k,getProgressSnapshot:C,openSignLanguagePlayer:j}=(0,s.F)(),{currentTime:P}=n.useSyncExternalStore(k,C,C),[N,S]=n.useState(!1);n.useEffect(()=>{S(!1)},[null==d?void 0:d.id,y]);let T=(null==d?void 0:d.contentVersionType)==="sign_language",E=n.useCallback(()=>{T?j():_()},[T,j,_]);if(!d)return null;let M=e=>{let r=Math.floor(e/60),a=Math.floor(e%60);return"".concat(r,":").concat(a.toString().padStart(2,"0"))},D=d.contents[y],W=!!(null==D?void 0:D.url),B=null!=(r=null==D?void 0:D.duration)?r:0,A=B-P,z=null==D?void 0:D.audioName,O=null==D?void 0:D.transcription,U=d.contents.length>1;return(0,t.jsxs)("div",{className:"".concat(V().playingTab," ").concat(a||""),children:[(0,t.jsx)("div",{className:V().content,children:N?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:V().workCardPlayerWrapper,children:(0,t.jsx)(R,{images:[d.thumbnail],title:d.title,location:z||"",state:"minimized",disableClick:!0,className:V().workCardPlayer})}),O&&(0,t.jsx)("div",{className:V().transcriptionSection,children:(0,t.jsx)("p",{className:V().transcriptionText,children:O})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:V().carouselImages,children:(0,t.jsx)(I.R,{images:[{src:d.thumbnail,alt:d.title}],showZoomButton:!0,showIndicator:!0,className:V().imageCarousel})}),(0,t.jsxs)("div",{className:V().titleSection,children:[z&&(0,t.jsxs)("button",{className:V().audioSelector,onClick:o,"aria-label":z,disabled:!U,children:[(0,t.jsx)("span",{className:V().audioName,children:z}),U&&(0,t.jsx)(v.IO.Outline,{size:18,className:V().dropdownIcon})]}),(0,t.jsx)("h1",{className:V().artworkTitle,children:d.title})]})]})}),!W&&(0,t.jsx)("div",{className:V().noAudioMessage,children:(0,t.jsx)("p",{children:c("noAudioGuide")})}),W&&(0,t.jsxs)("div",{className:V().playerControls,children:[(0,t.jsxs)("div",{className:V().functionArea,children:[(0,t.jsxs)("div",{className:V().functionMenu,children:[O&&(0,t.jsx)(F.$,{size:"mini",fill:N?"solid":"outline",icon:v.j5,"aria-label":c("subtitle"),className:V().subtitleButton,onClick:()=>S(!N),children:c("subtitle")}),(0,t.jsx)("div",{className:V().spacer}),(0,t.jsxs)("button",{className:V().speedButton,onClick:l,"aria-label":c("playbackSpeed",{speed:g}),children:[(0,t.jsx)(v.t9,{size:14}),(0,t.jsxs)("span",{className:V().speedText,children:[g,"x"]})]})]}),(0,t.jsxs)("div",{className:V().progressBar,children:[(0,t.jsx)(L.A,{min:0,max:B,value:P,onChange:e=>{b(e)},className:V().slider}),(0,t.jsxs)("div",{className:V().timeLabels,children:[(0,t.jsx)("span",{className:V().currentTime,children:M(P)}),(0,t.jsxs)("span",{className:V().remainingTime,children:["-",M(A)]})]})]})]}),(0,t.jsxs)("div",{className:V().playerButtons,children:[(0,t.jsx)("button",{className:V().controlButton,onClick:p,"aria-label":c("previous"),children:(0,t.jsx)(v.sq,{size:40})}),!T&&(0,t.jsx)("button",{className:V().controlButton,onClick:()=>w(15),"aria-label":c("backward15"),children:(0,t.jsx)(v.s$,{size:40})}),(0,t.jsx)("button",{className:V().playPauseButton,onClick:E,"aria-label":c(u?"pause":"play"),children:u?(0,t.jsx)(v.S7,{size:79.2}):(0,t.jsx)(v.UG.Filled,{size:79.2})}),!T&&(0,t.jsx)("button",{className:V().controlButton,onClick:()=>f(15),"aria-label":c("forward15"),children:(0,t.jsx)(v.Tv,{size:40})}),(0,t.jsx)("button",{className:V().controlButton,onClick:m,"aria-label":c("next"),children:(0,t.jsx)(v.oW,{size:40})})]}),(0,t.jsxs)("div",{className:V().volumeController,children:[(0,t.jsx)(v.r3,{size:20}),(0,t.jsx)(L.A,{min:0,max:1,step:.01,value:h,onChange:e=>x(e),className:V().volumeSlider}),(0,t.jsx)(v.hb,{size:20})]})]})]})};z.displayName="PlayingTab";var O=a(6093),U=a(33751),q=a(94607),H=a(55337),K=a(91251),Y=a(19504),G=a(35125),Z=a(62802),$=a(50935),Q=a.n($);let X=e=>{let{className:r}=e,a=(0,i.c3)("viewer3D");return(0,t.jsx)("div",{className:"".concat(Q().operationInstructions," ").concat(r||""),children:(0,t.jsxs)("div",{className:Q().instructionsRow,children:[(0,t.jsxs)("div",{className:Q().instructionItem,children:[(0,t.jsx)("div",{className:Q().iconWrapper,children:(0,t.jsx)(v.cf,{})}),(0,t.jsxs)("div",{className:Q().textWrapper,children:[(0,t.jsx)("p",{className:Q().gestureLabel,children:a("gestureSingleFinger")}),(0,t.jsx)("p",{className:Q().actionLabel,children:a("actionRotateMove")})]})]}),(0,t.jsxs)("div",{className:Q().instructionItem,children:[(0,t.jsx)("div",{className:Q().iconWrapper,children:(0,t.jsx)(v.as,{})}),(0,t.jsxs)("div",{className:Q().textWrapper,children:[(0,t.jsx)("p",{className:Q().gestureLabel,children:a("gesturePinch")}),(0,t.jsx)("p",{className:Q().actionLabel,children:a("actionZoom")})]})]}),(0,t.jsxs)("div",{className:Q().instructionItem,children:[(0,t.jsx)("div",{className:Q().iconWrapper,children:(0,t.jsx)(v.yr,{})}),(0,t.jsxs)("div",{className:Q().textWrapper,children:[(0,t.jsx)("p",{className:Q().gestureLabel,children:a("gestureDoubleTap")}),(0,t.jsx)("p",{className:Q().actionLabel,children:a("actionReset")})]})]})]})})};X.displayName="OperationInstructions";var J=a(22430),ee=a(97595),er=a.n(ee);class ea extends n.Component{static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e){p.vF.error("[3DViewer] Model loading error caught by boundary",{error:e.message}),this.props.onError(e)}render(){return this.state.hasError?this.props.fallback:this.props.children}constructor(e){super(e),this.state={hasError:!1}}}function et(e){let{url:r,onLoaded:a,onError:i}=e,{scene:l}=(0,q.p)(r,!0,!0,e=>{e.manager.onLoad=()=>{null==a||a()},e.manager.onError=e=>{null==i||i(Error("Failed to load model: ".concat(e)))}}),{camera:o,controls:s}=(0,O.C)();return(0,n.useEffect)(()=>{if(l&&o&&s){let e=new Z.NRn().setFromObject(l),r=e.getCenter(new Z.Pq0),a=e.getSize(new Z.Pq0),t=Math.max(a.x,a.y,a.z);if(0===t)return void p.vF.warn("3D Model has zero dimensions");l.traverse(e=>{e instanceof Z.eaF&&e.material&&(e.material.needsUpdate=!0,e.castShadow=!0,e.receiveShadow=!0,e.material instanceof Z._4j&&(e.material.metalness=Math.min(e.material.metalness,.5),e.material.roughness=Math.max(e.material.roughness,.3)))});let n=2.5*Math.abs(t/Math.tan(o.fov*(Math.PI/180)/2));o.position.set(r.x,r.y+.3*t,r.z+n),o.lookAt(r),s&&"target"in s&&(s.target.copy(r),s.update())}},[l,o,s]),(0,t.jsx)(H.o,{children:(0,t.jsx)("primitive",{object:l,scale:1})})}let en=e=>{let{visible:r,onClose:a,model3D:l,workTitle:o}=e,s=(0,i.c3)("viewer3D"),[c,d]=(0,n.useState)(!0),[u,_]=(0,n.useState)(null),g=(0,n.useRef)(null),[h,x]=(0,n.useState)(null),y=(0,n.useRef)(null),[f,w]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(!r||!(null==l?void 0:l.url))return void x(null);let e=!1;return(async()=>{try{let r=await (0,m.j1)();if(w(r),r){let r=await (0,J.WA)(l.url);if(e)return;r?(y.current=r,x(r)):(p.vF.error("[3DViewer] Offline mode but local model not found",{url:l.url}),d(!1),_(s("loadError")))}else x(l.url)}catch(r){if(e)return;p.vF.error("[3DViewer] Failed to resolve model URL",{error:r}),d(!1),_(s("loadError"))}})(),()=>{e=!0}},[r,null==l?void 0:l.url]),(0,n.useEffect)(()=>()=>{y.current&&(URL.revokeObjectURL(y.current),y.current=null)},[]);let k=(0,n.useCallback)(()=>{g.current&&g.current.reset()},[]),C=(0,n.useCallback)(()=>{d(!1),_(null)},[]),j=(0,n.useCallback)(e=>{d(!1),_(e.message||s("loadError")),p.vF.error("3D Model loading error",{error:e})},[s]),P=(0,n.useCallback)(()=>{d(!0),_(null),x(null),y.current&&(URL.revokeObjectURL(y.current),y.current=null),a()},[a]);return(null==l?void 0:l.url)?(0,t.jsx)(b.zD,{visible:r,onClose:P,position:"bottom",destroyOnClose:!0,bodyClassName:er().viewer3DPopup,children:(0,t.jsxs)("div",{className:er().viewer3D,children:[(0,t.jsxs)("div",{className:er().header,children:[(0,t.jsx)("h1",{className:er().title,children:s("title")}),(0,t.jsx)("button",{className:er().closeButton,onClick:P,"aria-label":s("close"),children:(0,t.jsx)(v.gz,{})})]}),(0,t.jsxs)("div",{className:er().canvasContainer,onDoubleClick:k,children:[c&&!u&&(0,t.jsxs)("div",{className:er().loadingContainer,children:[(0,t.jsx)("div",{className:"adm-loading",children:(0,t.jsx)("span",{className:"adm-loading-default"})}),(0,t.jsx)("p",{className:er().loadingText,children:s("loading")})]}),u&&(0,t.jsx)("div",{className:er().errorContainer,children:(0,t.jsx)("p",{className:er().errorText,children:u})}),!u&&!!h&&(0,t.jsx)(ea,{onError:j,fallback:null,children:(0,t.jsxs)(U.Hl,{className:er().canvas,gl:{antialias:!0,alpha:!0,toneMapping:Z.FV,toneMappingExposure:1.5},children:[(0,t.jsx)("color",{attach:"background",args:["#000000"]}),(0,t.jsx)(K.u,{makeDefault:!0,position:[0,1,3],fov:60}),(0,t.jsx)("ambientLight",{intensity:3}),(0,t.jsx)("hemisphereLight",{intensity:2,groundColor:"#444"}),(0,t.jsx)("directionalLight",{position:[5,5,5],intensity:3,castShadow:!0}),(0,t.jsx)("directionalLight",{position:[-5,5,5],intensity:2}),(0,t.jsx)("directionalLight",{position:[0,5,-5],intensity:2}),(0,t.jsx)("directionalLight",{position:[0,-5,0],intensity:1.5}),(0,t.jsx)("pointLight",{position:[0,0,5],intensity:2}),(0,t.jsx)("pointLight",{position:[0,2,0],intensity:1.5}),(0,t.jsx)("spotLight",{position:[10,10,10],intensity:2,angle:.3}),!f&&(0,t.jsx)(Y.OH,{preset:"city",background:!1}),(0,t.jsx)(n.Suspense,{fallback:null,children:(0,t.jsx)(et,{url:h,onLoaded:C,onError:j})}),(0,t.jsx)(G.N,{ref:g,enablePan:!0,enableZoom:!0,enableRotate:!0,minDistance:.5,maxDistance:20,touches:{ONE:Z.wtR.ROTATE,TWO:Z.wtR.DOLLY_PAN},zoomSpeed:1.2})]})})]}),(0,t.jsx)("div",{className:er().instructionsFooter,children:(0,t.jsx)(X,{})})]})}):null};en.displayName="Viewer3D";var ei=a(66949),el=a(99399),eo=a.n(el);let es=n.memo(e=>{let{className:r,onAudioGuideClick:a}=e,l=(0,i.c3)("audioPlayer"),{currentTrack:o,currentAudioIndex:c}=(0,s.F)(),[d,u]=(0,n.useState)(!1),[_,m]=(0,n.useState)(!1),p=(0,n.useMemo)(()=>{if(null==o?void 0:o.mapLocation)return{workId:o.id,title:o.title,imageUrl:o.thumbnail,hasAudio:o.contents.some(e=>"audio"===e.type&&e.url),mapLocation:o.mapLocation,spaceUid:o.spaceUid,areaUid:o.floor}},[o]),g=(0,n.useMemo)(()=>{if(null==o?void 0:o.exhibitionID)return{exhibitionId:o.exhibitionID,exhibitionName:o.exhibitionName||"",areaColor:"rgba(221, 181, 134, 0.3)",spaceUids:o.spaceUid?[o.spaceUid]:[],areaUids:o.floor?[o.floor]:[],works:p?[p]:[]}},[o,p]);if(!o)return null;let h=o.contents[c],x=null==h?void 0:h.audioName,y=!!(null==h?void 0:h.url),b=!!(o.location||o.floor||o.room||o.mapLocation),f=!!o.has3DModel;return(0,t.jsxs)("div",{className:"".concat(eo().introTab," ").concat(r||""),children:[(0,t.jsx)("div",{className:eo().workCardPlayerWrapper,children:(0,t.jsx)(R,{images:[o.thumbnail],title:o.title,location:x||o.location||"",state:"minimized",disableClick:!0,className:eo().workCardPlayer})}),(0,t.jsxs)("div",{className:eo().actionButtons,children:[b&&(0,t.jsx)(F.$,{size:"small",fill:"outline",icon:v.yF,onClick:()=>m(!0),"aria-label":l("location"),children:l("location")}),f&&(0,t.jsx)(F.$,{size:"small",fill:"outline",icon:v.F6,onClick:()=>u(!0),"aria-label":l("view3D"),children:l("view3D")}),y&&(0,t.jsx)(F.$,{size:"small",fill:"solid",icon:v.rm.Outline,onClick:a,"aria-label":l("audioGuide"),children:l("audioGuide")})]}),o.description&&(0,t.jsx)("div",{className:eo().descriptionSection,children:(0,t.jsx)("p",{className:eo().descriptionText,children:o.description})}),!o.description&&(0,t.jsx)("div",{className:eo().noDescription,children:(0,t.jsx)("p",{children:l("noDescription")})}),(0,t.jsx)(en,{visible:d,onClose:()=>u(!1),model3D:o.model3D,workTitle:o.title}),(0,t.jsx)(ei.D,{visible:_,onClose:()=>m(!1),mode:"work",focusedWork:p,exhibition:g,locationText:o.location||"".concat(o.floor||""," ").concat(o.room||"").trim()})]})});es.displayName="IntroTab";var ec=a(71526),ed=a(95612),eu=a(28016),e_=a(56271),em=a.n(e_);function ep(e){if(!e||0===e)return;let r=Math.floor(e/3600),a=Math.floor(e%3600/60),t=Math.floor(e%60);return r>0?"".concat(r,":").concat(a.toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0")):"".concat(a,":").concat(t.toString().padStart(2,"0"))}let eg=n.memo(e=>{let{className:r,onWorkClick:a}=e,c=(0,i.c3)("audioPlayer"),d=(0,o.useRouter)(),u=(0,l.Ym)(),{workCategories:_,playlist:m,currentTrack:p,isPlaying:g,play:h,setPlaylist:v,collapse:x,subscribeToPlayHistory:y,getPlayHistorySnapshot:b}=(0,s.F)(),{getMediaInfoByVersion:f,worksToPlaylist:w}=(0,ec.S)(),k=(0,n.useSyncExternalStore)(y,b,b),C=(0,n.useRef)(null),j=(0,n.useRef)(null),P=()=>{(null==p?void 0:p.exhibitionID)&&(x(),d.push("/".concat(u,"/exhibition/").concat(p.exhibitionID)))};if((0,n.useEffect)(()=>{if(j.current&&C.current){let e=j.current,r=C.current,a=e.offsetTop,t=r.scrollTop,n=r.clientHeight;(a<t||a>t+n)&&r.scrollTo({top:a-100,behavior:"smooth"})}},[null==p?void 0:p.id]),!_||0===_.length)return(0,t.jsx)("div",{className:"".concat(em().listTab," ").concat(r||""),children:(0,t.jsx)("div",{className:em().emptyState,children:(0,t.jsx)("p",{children:c("noWorks")})})});let N=w(_.flatMap(e=>e.works),{exhibitionID:null==p?void 0:p.exhibitionID,exhibitionName:null==p?void 0:p.exhibitionName,bannerImage:null==p?void 0:p.bannerImage});return(0,t.jsx)("div",{className:"".concat(em().listTab," ").concat(r||""),children:(0,t.jsxs)("div",{className:em().scrollContent,ref:C,children:[(null==p?void 0:p.bannerImage)&&(0,t.jsx)("div",{className:em().bannerImage,onClick:P,role:"button",tabIndex:0,"aria-label":c("backToExhibition"),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),P())},children:(0,t.jsx)(M.$,{src:p.bannerImage,alt:p.exhibitionName||"",width:1e3,height:300,className:em().bannerImageImg,lightweight:!0})}),_.map(e=>(0,t.jsxs)("div",{className:em().categorySection,children:[(0,t.jsx)("div",{className:em().groupTitle,children:(0,t.jsx)(ed.U,{title:e.categoryName})}),(0,t.jsx)("div",{className:em().worksList,children:e.works.map(e=>{let r=(null==p?void 0:p.id)===e.workID,n=f(e),i=!!n.url,l=ep(n.duration),o=e.has3DModel?"3d":null,s=n.contentID?k[n.contentID]:null,c=!!s&&!s.isCompleted,d=c?ep(Math.max(0,s.duration-s.progress)):void 0;return(0,t.jsx)("div",{ref:r?j:null,children:(0,t.jsx)(eu.t,{image:e.image,title:e.title,location:{floor:e.floor||"",rooms:e.room?[e.room]:[]},status:r&&g?"playing":c?"has-played":"default",hasAudio:i,duration:l,remainingTime:d,progress:c?s.progressPercent:void 0,extraIcon:o,onClick:()=>(e=>{let r=N.findIndex(r=>r.id===e.workID);if(-1!==r){var t,n;(0===m.length||(null==(t=m[0])?void 0:t.id)!==(null==(n=N[0])?void 0:n.id))&&v(N,r),h(N[r]),null==a||a()}})(e)})},e.workID)})})]},e.categoryID))]})})});eg.displayName="ListTab";var eh=a(40103),ev=a.n(eh);let ex=e=>{var r,a;let{className:b}=e,f=(0,i.c3)("audioPlayer"),w=(0,l.Ym)(),k=(0,o.useRouter)(),{isExpanded:C,collapse:j,currentTrack:P,currentAudioIndex:S,setAudioIndex:T,playbackSpeed:I,setSpeed:L,updateTrack:F,setWorkCategories:M,resume:D,seek:W}=(0,s.F)(),{version:B}=(0,c.t)(),[R,A]=(0,n.useState)("playing"),[V,O]=(0,n.useState)(!1),[U,q]=(0,n.useState)(!1),[H,K]=(0,n.useState)(!1),{src:Y}=(0,d.WC)((null==P?void 0:P.thumbnail)||""),G=async()=>{if(P)try{let e=await (0,m.dw)({workID:P.id,thumbnail:P.thumbnail,title:P.title,exhibitionID:P.exhibitionID,exhibitionName:P.exhibitionName,floor:P.floor,room:P.room});K(e)}catch(e){p.errorTracker.report(e,{errorCode:h.F4.FILE_WRITE_ERROR,component:"AudioPlayer",action:"toggleFavorite",severity:g.MU.LOW,metadata:{workID:P.id}})}},Z=(0,n.useCallback)(()=>{A("playing"),W(0),D()},[W,D]);(0,n.useEffect)(()=>{(async()=>{if(!(null==P?void 0:P.id))return K(!1);try{let e=await (0,m.Bb)(P.id);K(e)}catch(e){p.errorTracker.report(e,{errorCode:h.F4.FILE_READ_ERROR,component:"AudioPlayer",action:"loadFavoriteStatus",severity:g.MU.LOW,metadata:{workID:P.id}}),K(!1)}})()},[null==P?void 0:P.id]),(0,n.useEffect)(()=>{(async()=>{if(!(null==P?void 0:P.id)||!C)return;let e=P.contents.some(e=>e.audioName||e.transcription),r=!!P.description;if(!e||!r)try{var a;let e=await (0,u.pV)(P.id,w,B);F({contents:e.contents,description:e.description,location:null==(a=e.location)?void 0:a.description,has3DModel:e.has3DModel,model3D:e.model3D})}catch(e){p.vF.error("Failed to fetch work detail",{error:e,workID:P.id})}})()},[null==P?void 0:P.id,C,w,B,null==P?void 0:P.contents,null==P?void 0:P.description,F]),(0,n.useEffect)(()=>{(async()=>{if((null==P?void 0:P.exhibitionID)&&C)try{let e=await (0,_.nW)(P.exhibitionID,w,B);M(e.workCategories),F({bannerImage:e.basicInfo.bannerImage})}catch(e){p.vF.error("Failed to fetch exhibition detail",{error:e,exhibitionID:P.exhibitionID})}})()},[null==P?void 0:P.exhibitionID,C,w,B,M,F]),(0,n.useEffect)(()=>(C?document.body.style.overflow="hidden":(A("playing"),document.body.style.overflow=""),()=>{document.body.style.overflow=""}),[C]);let $=(0,n.useMemo)(()=>[{key:"intro",title:f("tabs.intro"),icon:v.YY.Filled,content:(0,t.jsx)(es,{onAudioGuideClick:Z})},{key:"playing",title:f("tabs.playing"),icon:v.rm.Filled,iconColor:"gold",content:(0,t.jsx)(z,{onSpeedButtonClick:()=>O(!0),onMultiAudioButtonClick:()=>q(!0)})},{key:"list",title:f("tabs.list"),icon:v.Wq.Filled,content:(0,t.jsx)(eg,{onWorkClick:()=>A("playing")})}],[f,Z]);if(!P)return null;let Q=null!=(r=P.contents)?r:[],X=Q[S],J=Q.length>1;return(0,t.jsxs)("div",{className:"".concat(ev().audioPlayer," ").concat(C?ev()["audioPlayer--expanded"]:""," ").concat(b||""),children:[Y&&(0,t.jsx)("div",{className:ev().backgroundImage,style:{backgroundImage:"url(".concat(Y,")")}}),(0,t.jsx)(x.A,{title:P.exhibitionName||f("title"),variant:"transparent",showRight:!0,rightButtonType:"favorite",isFavorited:H,onRightClick:G,showHideIcon:!0,onBackClick:j,onTitleClick:P.exhibitionID?()=>{(null==P?void 0:P.exhibitionID)&&(j(),k.push("/".concat(w,"/exhibition/").concat(P.exhibitionID)))}:void 0}),(0,t.jsx)("div",{className:ev().mainContent,children:(0,t.jsx)(y.Z,{items:$,activeKey:R,onChange:e=>A(e),enableSwiper:!0,minimal:!0})}),(0,t.jsx)(N,{visible:V,currentSpeed:I,onClose:()=>O(!1),onSpeedChange:e=>{L(e),O(!1)}}),J&&(0,t.jsx)(E,{visible:U,audioFiles:Q,currentAudioID:null!=(a=null==X?void 0:X.id)?a:"",onClose:()=>q(!1),onAudioChange:e=>{let r=Q.findIndex(r=>r.id===e.id);-1!==r&&T(r),q(!1)}})]})};ex.displayName="AudioPlayer"},47869:(e,r,a)=>{"use strict";a.d(r,{MiniPlayerContainer:()=>N});var t=a(81556),n=a(47256),i=a(54961),l=a(47469),o=a(7241),s=a(39660),c=a(34739),d=a(52728),u=a(83678),_=a(93171),m=a.n(_),p=a(94299),g=a.n(p);let h=e=>{let{className:r="",percent:a=0,showText:i=!1,text:l,rounded:o=!0,fillColor:s,trackColor:c,trackWidth:d,..._}=e,p=l||!!i&&(e=>"".concat(e,"%")),h=n.useMemo(()=>{let e={};return s&&(e["--fill-color"]=s),c&&(e["--track-color"]=c),d&&(e["--track-width"]=d),Object.keys(e).length>0?e:void 0},[s,c,d]);return(0,t.jsx)(u.z2,{..._,percent:a,text:p,rounded:o,style:h,className:m()(g().progressBar,{[g()["progressBar--withText"]]:i||l},r)})};h.displayName="ProgressBar";var v=a(91765),x=a(11761),y=a.n(x);let b=e=>{let{visible:r=!1,thumbnail:a,title:i,hasAudio:l=!0,isPlaying:o=!1,progress:u=0,remainingTime:_=0,onPlayPause:m,onNext:p,onClose:g,onExpand:x,className:b,hasTabBar:f=!1}=e,w=(0,c.c3)("common"),k=(0,n.useRef)(null),C=(0,n.useRef)(null),[j,P]=n.useState(!1);return((0,n.useEffect)(()=>{let e=C.current;if(!e)return;P(!1),e.style.removeProperty("animation");let r=()=>{if(!e)return;e.offsetHeight;let r=e.scrollWidth>e.clientWidth;if(P(r),r){let r=e.querySelector(".".concat(y().titleText));if(r){let a=r.offsetWidth;e.style.setProperty("--marquee-distance","-".concat(a+40,"px"));let t=Math.max(8,Math.min(20,a/100*5));e.style.setProperty("--marquee-duration","".concat(t,"s"))}}else e.style.removeProperty("--marquee-distance"),e.style.removeProperty("--marquee-duration")},a=setTimeout(()=>{r()},100);return window.addEventListener("resize",r),()=>{clearTimeout(a),window.removeEventListener("resize",r)}},[i]),r)?(0,t.jsx)("div",{ref:k,className:"".concat(y().miniPlayer," ").concat(f?y().hasTabBar:y().noTabBar," ").concat(b||""),onClick:e=>{e.target.closest("button")||(x?x():v.vF.error("onExpand is undefined"))},role:"button",tabIndex:0,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),null==x||x())},children:(0,t.jsxs)("div",{className:y().content,children:[(0,t.jsx)("div",{className:y().imageWrap,children:(0,t.jsx)("div",{className:y().image,children:(0,t.jsx)(s.$,{src:a,alt:i,width:48,height:48,className:y().imageElement,lightweight:!0})})}),(0,t.jsxs)("div",{className:"".concat(y().trackInfo," ").concat(l?"":y().noAudio),children:[(0,t.jsxs)("div",{className:y().titleRow,children:[(0,t.jsx)("div",{className:y().titleMask,children:(0,t.jsxs)("p",{ref:C,className:"".concat(y().title," ").concat(j?y().marquee:""),children:[(0,t.jsx)("span",{className:y().titleText,children:i}),j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:y().titleText,children:i}),(0,t.jsx)("span",{className:y().titleText,children:i})]})]})}),(0,t.jsx)("button",{className:y().closeButton,onClick:e=>{e.stopPropagation(),null==g||g()},"aria-label":w("close"),children:(0,t.jsx)(d.gz,{size:16,color:"white"})})]}),l&&(0,t.jsxs)("div",{className:y().progressBar,children:[(0,t.jsx)("div",{className:y().progressTrack,children:(0,t.jsx)(h,{percent:u,fillColor:"var(--scheme-on-surface)",trackColor:"var(--scheme-on-surface-variant)",trackWidth:"3px",rounded:!0,className:y().progressBarComponent})}),(0,t.jsx)("div",{className:y().timeRemaining,children:(0,t.jsx)("p",{className:y().timeText,children:(e=>{let r=Math.floor(Math.abs(e)/60),a=Math.floor(Math.abs(e)%60);return"-".concat(r,":").concat(a.toString().padStart(2,"0"))})(_)})}),(0,t.jsx)("button",{className:y().playButton,onClick:e=>{e.stopPropagation(),null==m||m()},"aria-label":o?"Pause":"Play",children:o?(0,t.jsx)(d._Z,{size:24,color:"white"}):(0,t.jsx)(d.Dq.Filled,{size:24,color:"white"})}),(0,t.jsx)("button",{className:y().nextButton,onClick:e=>{e.stopPropagation(),null==p||p()},"aria-label":w("next"),children:(0,t.jsx)(d.oW,{size:24,color:"white"})})]})]})]})}):null};b.displayName="MiniPlayer";var f=a(22430),w=a(85110),k=a(86471),C=a.n(k);function j(e){let r=Math.floor(e/60),a=Math.floor(e%60);return"".concat(r,":").concat(a.toString().padStart(2,"0"))}let P=e=>{let{videoUrl:r,title:a,visible:i,isPlaying:l,initialTime:o=0,onPlayingChange:s,onProgressUpdate:_,onClose:m,onEnded:p,className:g}=e,h=(0,c.c3)("audioPlayer"),x=(0,n.useRef)(null),[y,b]=(0,n.useState)(!1),k=(0,n.useCallback)(e=>{b(e),null==s||s(e)},[s]),[P,N]=(0,n.useState)(0),[S,T]=(0,n.useState)(0),[E,I]=(0,n.useState)(1),[L,F]=(0,n.useState)(!0),[M,D]=(0,n.useState)(""),W=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(!r||!i)return void D("");let e=!1;return(async()=>{try{if(await (0,w.j1)()){let a=await (0,f.al)(r);if(e)return;a?(v.vF.debug("[SignLanguageVideoPlayer] Using local video",{videoUrl:r}),D(a)):(v.vF.warn("[SignLanguageVideoPlayer] Local video not found, using remote",{videoUrl:r}),D(r))}else D(r)}catch(e){v.vF.error("[SignLanguageVideoPlayer] Failed to load video URL",{error:e,videoUrl:r}),D(r)}})(),()=>{e=!0}},[r,i]);let B=(0,n.useCallback)(()=>{W.current&&clearTimeout(W.current),F(!0),y&&(W.current=setTimeout(()=>{F(!1)},3e3))},[y]),R=(0,n.useRef)(!1),A=(0,n.useRef)(!1);(0,n.useEffect)(()=>{let e=R.current;R.current=i,i&&!e?(N(o),A.current=!1,B()):!i&&e&&(A.current=!1)},[i,o,B]),(0,n.useEffect)(()=>{if(!i||!M||A.current)return;let e=x.current;if(!e)return;A.current=!0;let r=setTimeout(()=>{o>0&&(e.currentTime=o,v.vF.debug("[SignLanguageVideoPlayer] Resuming from initialTime",{initialTime:o})),v.vF.debug("[SignLanguageVideoPlayer] Auto-playing video on visible",{resolvedVideoUrl:M,initialTime:o}),e.play().then(()=>{k(!0)}).catch(e=>{v.vF.error("[SignLanguageVideoPlayer] Auto-play failed",{error:e}),k(!1)})},100);return()=>clearTimeout(r)},[i,M,o,k]),(0,n.useEffect)(()=>{if(void 0===l)return;let e=x.current;e&&(l&&!y?(e.play().catch(e=>{v.vF.error("[SignLanguageVideoPlayer] Play failed from external state",{error:e})}),b(!0)):!l&&y&&(e.pause(),b(!1)))},[l,y]),(0,n.useEffect)(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[i]),(0,n.useEffect)(()=>()=>{W.current&&clearTimeout(W.current)},[]);let V=(0,n.useCallback)(()=>{let e=x.current;e&&(y?(e.pause(),k(!1)):(e.play().catch(e=>{v.vF.error("[SignLanguageVideoPlayer] Play failed",{error:e})}),k(!0)),B())},[y,B,k]),z=(0,n.useCallback)(()=>{let e=x.current;e&&(e.currentTime=Math.min(e.currentTime+15,e.duration),B())},[B]),O=(0,n.useCallback)(()=>{let e=x.current;e&&(e.currentTime=Math.max(e.currentTime-15,0),B())},[B]),U=(0,n.useCallback)(e=>{let r=x.current;r&&(r.currentTime=e,N(e),B())},[B]),q=(0,n.useCallback)(e=>{let r=x.current;r&&(r.volume=e,I(e),B())},[B]),H=(0,n.useCallback)(()=>{let e=x.current;if(!e)return;let r=e.currentTime,a=e.duration||0,t=a>0?r/a*100:0;N(r),null==_||_(t,r)},[_]),K=(0,n.useCallback)(()=>{let e=x.current;e&&T(e.duration)},[]),Y=(0,n.useCallback)(()=>{k(!1),F(!0),null==p||p()},[p,k]),G=(0,n.useCallback)(()=>{L?F(!1):B()},[L,B]),Z=(0,n.useCallback)(()=>{let e=x.current;e&&e.pause(),k(!1),m()},[m,k]);return i?(0,t.jsxs)("div",{className:"".concat(C().videoPlayer," ").concat(g||""),children:[(0,t.jsx)("div",{className:C().videoContainer,onClick:G,children:M&&(0,t.jsx)("video",{ref:x,src:M,className:C().video,onTimeUpdate:H,onLoadedMetadata:K,onEnded:Y,playsInline:!0})}),(0,t.jsxs)("div",{className:"".concat(C().controls," ").concat(L?C().controlsVisible:""),children:[(0,t.jsxs)("div",{className:C().topBar,children:[(0,t.jsx)("h2",{className:C().title,children:a}),(0,t.jsx)("button",{className:C().closeButton,onClick:Z,"aria-label":h("close"),children:(0,t.jsx)(d.gz,{})})]}),(0,t.jsxs)("div",{className:C().centerControls,children:[(0,t.jsx)("button",{className:C().controlButton,onClick:O,"aria-label":h("rewind15"),children:(0,t.jsx)(d.s$,{})}),(0,t.jsx)("button",{className:C().playButton,onClick:V,"aria-label":h(y?"pause":"play"),children:y?(0,t.jsx)(d.S7,{}):(0,t.jsx)(d.UG.Filled,{})}),(0,t.jsx)("button",{className:C().controlButton,onClick:z,"aria-label":h("forward15"),children:(0,t.jsx)(d.Tv,{})})]}),(0,t.jsxs)("div",{className:C().bottomBar,children:[(0,t.jsxs)("div",{className:C().progressSection,children:[(0,t.jsx)("span",{className:C().time,children:j(P)}),(0,t.jsx)(u.Ap,{className:C().progressSlider,value:P,min:0,max:S||100,onChange:e=>U(e)}),(0,t.jsx)("span",{className:C().time,children:j(S)})]}),(0,t.jsx)("div",{className:C().volumeSection,children:(0,t.jsx)(u.Ap,{className:C().volumeSlider,value:E,min:0,max:1,step:.1,onChange:e=>q(e)})})]})]})]}):null};P.displayName="SignLanguageVideoPlayer";let N=()=>{var e,r;let a=(0,i.usePathname)(),{isAdminMode:s}=(0,o.t)(),{visible:c,currentTrack:d,isPlaying:u,togglePlayPause:_,pause:m,resume:p,next:g,close:h,updateProgress:x,expand:y,isExpanded:k,showSignLanguagePlayer:C,openSignLanguagePlayer:j,closeSignLanguagePlayer:N,seekTime:S,setSeekTime:T,updateTrackDuration:E,playbackSpeed:I,volume:L,muted:F,currentAudioIndex:M,subscribeToProgress:D,getProgressSnapshot:W}=(0,l.F)(),B=(null==d?void 0:d.contentVersionType)==="sign_language",R=(0,n.useSyncExternalStore)(D,W,W),A=R.progress,V=R.currentTime,z=(0,n.useRef)(null),O=(0,n.useRef)(null),U=(0,n.useRef)(null),q=(0,n.useRef)(!1),H=!!a&&/\/(home|search|map|settings)$/.test(a),K=(0,n.useRef)(x),Y=(0,n.useRef)(g),G=(0,n.useRef)(E),Z=(0,n.useRef)(m),$=(0,n.useRef)(u),Q=(0,n.useRef)(S),X=(0,n.useRef)(T),J=(0,n.useRef)(I),ee=(0,n.useRef)(null==d?void 0:d.id),er=(0,n.useRef)(M);K.current=x,Y.current=g,G.current=E,Z.current=m,$.current=u,Q.current=S,X.current=T,J.current=I,ee.current=null==d?void 0:d.id,er.current=M;let ea=null==d?void 0:d.id,et=null==d||null==(e=d.contents[M])?void 0:e.url,en=null==d||null==(r=d.contents[M])?void 0:r.duration;(0,n.useEffect)(()=>{let e=z.current;if(!e||!ea)return;if(B){e.pause(),e.src="",U.current=null,O.current=null;return}if(!et){e.pause(),e.src="",K.current(0,0),U.current=null;return}let r=O.current,a=U.current;if(r&&r.trackId===ea&&r.audioIndex===M||a&&a.trackId===ea&&a.audioIndex===M)return;U.current=null,e.pause(),q.current=!0;let t=()=>{if(e.duration&&!isNaN(e.duration)){let r=Math.round(e.duration);(!en||Math.abs(r-en)>1)&&G.current(r)}},n=()=>{U.current={trackId:ea,audioIndex:M},setTimeout(()=>{let r=Q.current;if(v.vF.debug("[MiniPlayerContainer] handleCanPlay",{currentSeekTime:r,audioCurrentTime:e.currentTime,trackId:ea,readyState:e.readyState}),null!=r&&r>0){var a;v.vF.debug("[MiniPlayerContainer] handleCanPlay - seeking to",{targetSeekTime:r}),e.currentTime=r,null==(a=X.current)||a.call(X,null)}q.current=!1,e.playbackRate=J.current,$.current&&e.play().catch(e=>{v.vF.error("Audio playback failed",{error:e})})},0)},i=!1;return(async()=>{O.current={trackId:ea,audioIndex:M};let r=et;try{if(await (0,w.j1)()){let e=await (0,f.al)(et);if(i)return;e?(v.vF.debug("[MiniPlayerContainer] Offline mode, using local audio",{trackId:ea}),r=e):v.vF.warn("[MiniPlayerContainer] Local audio not found, falling back to remote URL",{trackId:ea})}else v.vF.debug("[MiniPlayerContainer] Online mode, using remote URL",{trackId:ea})}catch(e){v.vF.warn("[MiniPlayerContainer] Failed to check offline mode, using remote URL",{error:e instanceof Error?e.message:String(e)})}i||(e.addEventListener("loadedmetadata",t,{once:!0}),e.addEventListener("canplay",n,{once:!0}),e.src=r,e.load())})(),()=>{i=!0}},[ea,M,et,en,W,B]),(0,n.useEffect)(()=>{let e=z.current;if(!e||!d)return;if(B)return void e.pause();let r=d.contents[M];(null==r?void 0:r.url)&&(u?e.play().catch(r=>{var a;if("AbortError"===r.name)return void v.vF.debug("Audio play() was interrupted",{error:r.message});v.vF.error("Audio playback failed",{error:r.message,audioSrc:null==(a=e.src)?void 0:a.substring(0,100),readyState:e.readyState})}):e.pause())},[u,d,M,B]),(0,n.useEffect)(()=>{let e=z.current;e&&(c||e.pause())},[c]),(0,n.useEffect)(()=>{let e=z.current;if(!e)return;let r=()=>{if(q.current)return;let r=U.current;if(!r)return;let a=ee.current,t=er.current;if(r.trackId!==a||r.audioIndex!==t)return;let n=e.currentTime,i=e.duration||0;K.current(i>0?n/i*100:0,n)},a=()=>{e.currentTime=0,K.current(0,0),Z.current()};return e.addEventListener("timeupdate",r),e.addEventListener("ended",a),()=>{e.removeEventListener("timeupdate",r),e.removeEventListener("ended",a)}},[]),(0,n.useEffect)(()=>{let e=z.current;if(!e||null===S||!ea)return;let r=U.current,a=r&&r.trackId===ea;if(a&&e.readyState>=3&&e.duration>0){v.vF.debug("[MiniPlayerContainer] Direct seek (user scrubbing)",{seekTime:S,readyState:e.readyState,duration:e.duration,trackId:ea}),e.currentTime=S,T(null);return}v.vF.debug("[MiniPlayerContainer] Seek will be handled by handleCanPlay",{seekTime:S,readyState:e.readyState,duration:e.duration,trackId:ea,isCorrectAudioLoaded:a})},[S,T,ea]),(0,n.useEffect)(()=>{let e=z.current;e&&(e.playbackRate=I)},[I]),(0,n.useEffect)(()=>{let e=z.current;e&&(e.volume=L,e.muted=F)},[L,F]);let ei=null==d?void 0:d.contents[M],el=(null==ei?void 0:ei.duration)||0,eo=(0,n.useCallback)(()=>{y()},[y]),es=(0,n.useCallback)(()=>{N()},[N]),ec=(0,n.useCallback)(()=>{N()},[N]),ed=(0,n.useCallback)(e=>{e?(p(),null!==S&&T(null)):m()},[p,m,S,T]),eu=(0,n.useCallback)((e,r)=>{x(e,r)},[x]),e_=(0,n.useCallback)(()=>{B?j():_()},[B,j,_]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("audio",{ref:z,style:{display:"none"}}),c&&d&&!s&&!k&&!C&&(0,t.jsx)(b,{visible:c,thumbnail:d.thumbnail,title:d.title,hasAudio:!!(null==ei?void 0:ei.url),isPlaying:u,progress:A,remainingTime:el-V,hasTabBar:H,onPlayPause:e_,onNext:g,onClose:h,onExpand:eo}),B&&(null==ei?void 0:ei.url)&&(0,t.jsx)(P,{videoUrl:ei.url,title:(null==d?void 0:d.title)||"",visible:C,isPlaying:u,initialTime:null!=S?S:V,onPlayingChange:ed,onProgressUpdate:eu,onClose:es,onEnded:ec})]})};N.displayName="MiniPlayerContainer"},50935:e=>{e.exports={operationInstructions:"OperationInstructions_operationInstructions__4_s3w",instructionsRow:"OperationInstructions_instructionsRow__yOHZ8",instructionItem:"OperationInstructions_instructionItem__EwaS2",iconWrapper:"OperationInstructions_iconWrapper__254jd",textWrapper:"OperationInstructions_textWrapper___Hf4o",gestureLabel:"OperationInstructions_gestureLabel__ePNK_",actionLabel:"OperationInstructions_actionLabel__wggVo"}},51843:e=>{e.exports={workCardPlayer:"WorkCardPlayer_workCardPlayer__6Ecew","workCardPlayer--default":"WorkCardPlayer_workCardPlayer--default__3libM",workCardPlayer__location:"WorkCardPlayer_workCardPlayer__location__U0lHx",workCardPlayer__title:"WorkCardPlayer_workCardPlayer__title__ryxQ6",workCardPlayer__titleText:"WorkCardPlayer_workCardPlayer__titleText__9iEf_","workCardPlayer--minimized":"WorkCardPlayer_workCardPlayer--minimized__KyE8Q","workCardPlayer--disableClick":"WorkCardPlayer_workCardPlayer--disableClick__fi2pp",workCardPlayer__imageWrapper:"WorkCardPlayer_workCardPlayer__imageWrapper__CL2gL",workCardPlayer__image:"WorkCardPlayer_workCardPlayer__image__bVQA5",workCardPlayer__info:"WorkCardPlayer_workCardPlayer__info__kKAsU","workCardPlayer__title--marquee":"WorkCardPlayer_workCardPlayer__title--marquee__2CLOI","marquee-scroll":"WorkCardPlayer_marquee-scroll__ipuad",workCardPlayer__swiperWrapper:"WorkCardPlayer_workCardPlayer__swiperWrapper___gvqE",workCardPlayer__swiper:"WorkCardPlayer_workCardPlayer__swiper__WrOmc",workCardPlayer__titleMask:"WorkCardPlayer_workCardPlayer__titleMask__XzlXG"}},53025:e=>{e.exports={container:"WelcomeScreen_container__pOlHi",content:"WelcomeScreen_content__1rhdK",logo:"WelcomeScreen_logo__bxfIr",logoIcon:"WelcomeScreen_logoIcon__ipMes",title:"WelcomeScreen_title__oAcQd",subtitle:"WelcomeScreen_subtitle__V4A66",loading:"WelcomeScreen_loading__LD_Z2",setupPrompt:"WelcomeScreen_setupPrompt__8x6Fg",description:"WelcomeScreen_description__8WP4Q",selectedVenueName:"WelcomeScreen_selectedVenueName__PZKrN",venueSelector:"WelcomeScreen_venueSelector__ZeSv4",venueList:"WelcomeScreen_venueList__FPoX2",venueCard:"WelcomeScreen_venueCard__43OvB",venueImage:"WelcomeScreen_venueImage__xqKQd",venueName:"WelcomeScreen_venueName__27ZYR",downloadButton:"WelcomeScreen_downloadButton__akCwB",downloadProgress:"WelcomeScreen_downloadProgress__1Vjoq",statusText:"WelcomeScreen_statusText__QcOJT",progressBar:"WelcomeScreen_progressBar__tOewt",percentText:"WelcomeScreen_percentText__f4xd5",progressDetails:"WelcomeScreen_progressDetails__qvqpQ",detailText:"WelcomeScreen_detailText__D2lTx",error:"WelcomeScreen_error__JHh0b",errorIcon:"WelcomeScreen_errorIcon__upQxE",errorText:"WelcomeScreen_errorText__ETfng",retryButton:"WelcomeScreen_retryButton__ntLiD",deleting:"WelcomeScreen_deleting__ttFRU",deletingText:"WelcomeScreen_deletingText__I_t3n",cellularConfirm:"WelcomeScreen_cellularConfirm__DdzDr",cellularIcon:"WelcomeScreen_cellularIcon__Jp0j4",cellularTitle:"WelcomeScreen_cellularTitle__CrZOp",cellularDescription:"WelcomeScreen_cellularDescription__Tc33J",cellularButtons:"WelcomeScreen_cellularButtons__fUQaD",cancelButton:"WelcomeScreen_cancelButton__wtZAs"}},56271:e=>{e.exports={listTab:"ListTab_listTab__7Xkqg",scrollContent:"ListTab_scrollContent__HeTz5",bannerImage:"ListTab_bannerImage__wDt5u",bannerImageImg:"ListTab_bannerImageImg__Z1crq",categorySection:"ListTab_categorySection__DXO7a",groupTitle:"ListTab_groupTitle__R4n4T",worksList:"ListTab_worksList__Wrytf",emptyState:"ListTab_emptyState__N5_EY"}},58044:()=>{},65336:(e,r,a)=>{Promise.resolve().then(a.bind(a,33579)),Promise.resolve().then(a.bind(a,71641)),Promise.resolve().then(a.t.bind(a,76185,23)),Promise.resolve().then(a.t.bind(a,43707,23)),Promise.resolve().then(a.bind(a,45559)),Promise.resolve().then(a.bind(a,47869)),Promise.resolve().then(a.bind(a,11188)),Promise.resolve().then(a.bind(a,76787)),Promise.resolve().then(a.bind(a,37105)),Promise.resolve().then(a.bind(a,85514)),Promise.resolve().then(a.bind(a,47469)),Promise.resolve().then(a.bind(a,7241)),Promise.resolve().then(a.bind(a,411)),Promise.resolve().then(a.bind(a,25953)),Promise.resolve().then(a.t.bind(a,58044,23))},76787:(e,r,a)=>{"use strict";a.d(r,{MonitoringProvider:()=>o});var t=a(47256),n=a(91765),i=a(97290),l=a(83576);function o(){return(0,t.useEffect)(()=>{if(l.El.hasRun(l.El.KEYS.MONITORING))return;l.El.markAsRun(l.El.KEYS.MONITORING),(0,n.AU)().then(()=>{n.vF.info("[MonitoringProvider] Firebase initialized successfully")}).catch(e=>{n.vF.error("[MonitoringProvider] Failed to initialize Firebase:",e)}),(i.$W.isDevelopment||i.$W.isStaging)&&(window.logger=n.vF,window.errorTracker=n.errorTracker,window.metricsCollector=n.Dd,window.isFirebaseInitialized=n.yj,n.vF.debug("[MonitoringProvider] Monitoring tools exposed to window for testing")),n.pk.start().catch(e=>{n.vF.error("[MonitoringProvider] Failed to start network monitor:",e)});let e=()=>{n.pk.stop().catch(e=>{n.vF.error("[MonitoringProvider] Failed to stop network monitor:",e)})};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[]),null}},77743:e=>{e.exports={speedOption:"PlaybackSpeedSheet_speedOption__iSxX8",speedLabel:"PlaybackSpeedSheet_speedLabel___ERhb","speedLabel--selected":"PlaybackSpeedSheet_speedLabel--selected__ybWzf"}},85514:(e,r,a)=>{"use strict";a.d(r,{WelcomeScreen:()=>u,default:()=>_});var t=a(81556),n=a(34739),i=a(83678),l=a(50861),o=a(39660),s=a(53025),c=a.n(s);function d(e){if(0===e)return"0 B";let r=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,r)).toFixed(1))," ").concat(["B","KB","MB","GB"][r])}function u(){var e;let r=(0,n.c3)("setup"),{status:a,venues:s,selectedVenue:u,downloadProgress:_,error:m,networkType:p,selectVenue:g,startDownload:h,confirmCellularDownload:v,cancelCellularDownload:x,retry:y}=(0,l.vN)(),b=null!=(e=null==_?void 0:_.overallProgress)?e:0,f=u||1===s.length,w=u||(1===s.length?s[0]:null);return(0,t.jsx)("div",{className:c().container,children:(0,t.jsxs)("div",{className:c().content,children:[(0,t.jsx)("div",{className:c().logo,children:(0,t.jsx)("span",{className:c().logoIcon,children:r("logoIcon")})}),(0,t.jsx)("h1",{className:c().title,children:r("welcomeTitle")}),(0,t.jsx)("p",{className:c().subtitle,children:r("welcomeSubtitle")}),("checking"===a||"loading_venues"===a)&&(0,t.jsxs)("div",{className:c().loading,children:[(0,t.jsx)(i.Rb,{color:"primary"}),(0,t.jsx)("p",{children:r("checking")})]}),"needs_setup"===a&&(0,t.jsxs)("div",{className:c().setupPrompt,children:[s.length>1&&!u&&(0,t.jsxs)("div",{className:c().venueSelector,children:[(0,t.jsx)("p",{className:c().description,children:r("selectVenue")}),(0,t.jsx)("div",{className:c().venueList,children:s.map(e=>{var r,a,n,i,l,s,d,u,_,m,p,h,v,x;return(0,t.jsxs)("button",{type:"button",className:c().venueCard,onClick:()=>{g(e)},children:[((null==(l=e.img_key_vision)||null==(i=l.info)||null==(n=i[0])||null==(a=n.media_sources)||null==(r=a[0])?void 0:r.url)||(null==(u=e.img_key_vision)||null==(d=u.info)||null==(s=d[0])?void 0:s.value))&&(0,t.jsx)(o.$,{src:(null==(h=e.img_key_vision.info)||null==(p=h[0])||null==(m=p.media_sources)||null==(_=m[0])?void 0:_.url)||(null==(x=e.img_key_vision.info)||null==(v=x[0])?void 0:v.value)||"",alt:e.name,width:120,height:80,className:c().venueImage}),(0,t.jsx)("span",{className:c().venueName,children:e.name})]},e.uid)})})]}),f&&w&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:c().description,children:[r("needsDownload"),s.length>1&&u&&(0,t.jsx)("span",{className:c().selectedVenueName,children:r("selectedVenueLabel",{name:u.name})})]}),(0,t.jsx)(i.$n,{color:"primary",size:"large",block:!0,onClick:h,className:c().downloadButton,children:r("startDownload")})]})]}),"downloading"===a&&(0,t.jsxs)("div",{className:c().downloadProgress,children:[(0,t.jsx)("p",{className:c().statusText,children:(()=>{if(!_)return"";switch(_.status){case"downloading_json":return r("downloadingData");case"downloading_files":return r("downloadingFiles");case"completed":return r("downloadComplete");case"failed":return r("downloadFailed");default:return""}})()}),(0,t.jsx)(i.z2,{percent:b,className:c().progressBar}),(0,t.jsx)("p",{className:c().percentText,children:r("progressPercent",{percent:Math.round(b)})}),_&&"downloading_files"===_.status&&(0,t.jsxs)("div",{className:c().progressDetails,children:[(0,t.jsx)("p",{className:c().detailText,children:r("fileProgress",{completed:_.completedFiles,total:_.totalFiles})}),void 0!==_.downloadedSize&&void 0!==_.totalSize&&(0,t.jsx)("p",{className:c().detailText,children:r("downloadedSize",{size:"".concat(d(_.downloadedSize)," / ").concat(d(_.totalSize))})})]})]}),"deleting"===a&&(0,t.jsxs)("div",{className:c().deleting,children:[(0,t.jsx)(i.Rb,{color:"primary"}),(0,t.jsx)("p",{className:c().deletingText,children:r("deleting")})]}),"confirm_cellular"===a&&(0,t.jsxs)("div",{className:c().cellularConfirm,children:[(0,t.jsx)("div",{className:c().cellularIcon,children:"\uD83D\uDCF6"}),(0,t.jsx)("p",{className:c().cellularTitle,children:r("cellularConfirmTitle")}),(0,t.jsx)("p",{className:c().cellularDescription,children:r("cellularConfirmDescription",{networkType:p||"cellular"})}),(0,t.jsxs)("div",{className:c().cellularButtons,children:[(0,t.jsx)(i.$n,{color:"primary",size:"large",block:!0,onClick:v,className:c().downloadButton,children:r("cellularConfirmYes")}),(0,t.jsx)(i.$n,{size:"large",block:!0,onClick:x,className:c().cancelButton,children:r("cellularConfirmNo")})]})]}),"error"===a&&(0,t.jsxs)("div",{className:c().error,children:[(0,t.jsx)("div",{className:c().errorIcon,children:"⚠️"}),(0,t.jsx)("p",{className:c().errorText,children:m?["wifi_required","no_network","insufficient_storage"].includes(m)?r("errors.".concat(m)):m:r("downloadFailed")}),(0,t.jsx)(i.$n,{color:"primary",size:"large",block:!0,onClick:y,className:c().retryButton,children:r("retry")})]})]})})}let _=u},86471:e=>{e.exports={videoPlayer:"SignLanguageVideoPlayer_videoPlayer__YBeVk",videoContainer:"SignLanguageVideoPlayer_videoContainer__xyr3T",video:"SignLanguageVideoPlayer_video__UoEFQ",controls:"SignLanguageVideoPlayer_controls__WbsaU",controlsVisible:"SignLanguageVideoPlayer_controlsVisible__nc39i",topBar:"SignLanguageVideoPlayer_topBar__SMe92",title:"SignLanguageVideoPlayer_title___Vhrw",closeButton:"SignLanguageVideoPlayer_closeButton__dJI3E",centerControls:"SignLanguageVideoPlayer_centerControls__yOmzF",controlButton:"SignLanguageVideoPlayer_controlButton__4yrKx",playButton:"SignLanguageVideoPlayer_playButton__XAFOV",bottomBar:"SignLanguageVideoPlayer_bottomBar__ecWcG",progressSection:"SignLanguageVideoPlayer_progressSection__P5Xpr",time:"SignLanguageVideoPlayer_time__VQv6O",progressSlider:"SignLanguageVideoPlayer_progressSlider__PkXAg",volumeSection:"SignLanguageVideoPlayer_volumeSection__VTg1E",volumeSlider:"SignLanguageVideoPlayer_volumeSlider__ICW8N"}},87678:(e,r,a)=>{"use strict";a.d(r,{R:()=>p});var t=a(81556),n=a(47256),i=a(83678),l=a(35030),o=a(39660),s=a(3226),c=a(34739),d=a(37197),u=a.n(d);let _=(0,l.b)("search","放大"),m=e=>{let{imageUrl:r,visible:a,onClose:n}=e,{src:l}=(0,s.WC)(r);return(0,t.jsx)(i.a,{image:l||r,visible:a,onClose:n,renderFooter:()=>null,getContainer:()=>document.body})},p=n.forwardRef((e,r)=>{let{images:a,showZoomButton:l=!0,showIndicator:s=!0,className:d,children:p,variant:g="default",...h}=e,[v,x]=(0,n.useState)(0),[y,b]=(0,n.useState)(!1),f=(0,c.c3)("common"),w=(0,n.useMemo)(()=>p?n.Children.toArray(p).map((e,r)=>(0,t.jsx)(i.RC.Item,{children:e},r)):(null!=a?a:[]).map((e,r)=>(0,t.jsx)(i.RC.Item,{children:(0,t.jsx)("div",{className:u().imageWrapper,children:(0,t.jsx)(o.$,{src:e.src,alt:e.alt||"Image ".concat(r+1),width:0,height:0,sizes:"100vw",className:u().image,ratio:"1:1"})})},r)),[p,a]);if("fluid"===g){let e=p?n.Children.toArray(p):(null!=a?a:[]).map((e,r)=>(0,t.jsx)("div",{className:u().imageWrapper,children:(0,t.jsx)(o.$,{src:e.src,alt:e.alt||"Image ".concat(r+1),width:0,height:0,sizes:"100vw",className:u().image,ratio:"1:1"})},r));return(0,t.jsx)("div",{className:"".concat(u().swiperContainer," ").concat(u().swiperContainerFluid," ").concat(d||""),children:(0,t.jsx)("div",{className:u().fluidTrack,children:n.Children.toArray(e).map((e,r)=>(0,t.jsx)("div",{className:u().fluidSlide,children:e},r))})})}return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"".concat(u().swiperContainer," ").concat(d||""),children:[(0,t.jsx)(i.RC,{ref:r,...h,onIndexChange:e=>{var r;x(e),null==(r=h.onIndexChange)||r.call(h,e)},indicator:s?(e,r)=>(0,t.jsx)("div",{className:u().indicator,children:Array.from({length:e}).map((e,a)=>(0,t.jsx)("div",{className:"".concat(u().dot," ").concat(a===r?u().dotActive:"")},a))}):()=>null,children:w}),l&&!p&&(0,t.jsx)("button",{type:"button",className:u().zoomButton,onClick:()=>{b(!0)},"aria-label":f("zoomImage"),children:(0,t.jsx)(_,{size:24,color:"white"})})]}),!p&&a&&a[v]&&(0,t.jsx)(m,{imageUrl:a[v].src,visible:y,onClose:()=>b(!1)})]})});p.displayName="Swiper"},88852:(e,r,a)=>{"use strict";a.d(r,{A:()=>c});var t=a(81556);a(47256);var n=a(83678),i=a(93171),l=a.n(i),o=a(3455),s=a.n(o);let c=e=>{let{className:r="",min:a=0,max:i=100,value:o,defaultValue:c=0,step:d=1,marks:u,ticks:_=!1,disabled:m=!1,range:p=!1,showTooltip:g=!1,tooltipFormatter:h,alwaysShowTooltip:v=!1,onChange:x,onAfterChange:y,...b}=e;return(0,t.jsx)(n.Ap,{...b,min:a,max:i,value:o,defaultValue:c,step:d,marks:u,ticks:_,disabled:m,range:p,popover:!!g&&(!h||(e=>h(e))),residentPopover:v,onChange:x,onAfterChange:y,className:l()(s().slider,{[s()["slider--range"]]:p,[s()["slider--ticks"]]:_,[s()["slider--marks"]]:u&&Object.keys(u).length>0,[s()["slider--disabled"]]:m,[s()["slider--tooltip"]]:g},r)})};c.displayName="Slider"},94299:e=>{e.exports={progressBar:"ProgressBar_progressBar__wnYW1","progressBar--withText":"ProgressBar_progressBar--withText__CK_hm"}},97595:e=>{e.exports={viewer3DPopup:"__3DViewer_viewer3DPopup__alGSd",viewer3D:"__3DViewer_viewer3D__orti0",header:"__3DViewer_header__iddWj",title:"__3DViewer_title__S7N_L",closeButton:"__3DViewer_closeButton__kZG1Y",canvasContainer:"__3DViewer_canvasContainer__uLvjh",canvas:"__3DViewer_canvas__SytCs",instructionsFooter:"__3DViewer_instructionsFooter__AxB74",loadingContainer:"__3DViewer_loadingContainer___iga3",loadingText:"__3DViewer_loadingText__4rwW6",errorContainer:"__3DViewer_errorContainer__WuZKs",errorText:"__3DViewer_errorText__YXm59"}},99399:e=>{e.exports={introTab:"IntroTab_introTab__NZwzo",workCardPlayerWrapper:"IntroTab_workCardPlayerWrapper__VEdfJ",actionButtons:"IntroTab_actionButtons__6uKO4",descriptionSection:"IntroTab_descriptionSection__C2_uU",descriptionText:"IntroTab_descriptionText__ixUy3",noDescription:"IntroTab_noDescription__jo56x"}}},e=>{e.O(0,[7832,4402,4676,9152,7906,6921,6672,2769,154,2269,4772,4730,3678,3579,2966,6208,4576,4078,1778,9120,861,664,443,9402,5510,7358],()=>e(e.s=65336)),_N_E=e.O()}]);