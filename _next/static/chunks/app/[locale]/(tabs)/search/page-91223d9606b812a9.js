(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7486],{6010:(e,a,t)=>{"use strict";t.d(a,{a:()=>d});var o=t(81556),r=t(47256),l=t(34739),i=t(83678),s=t(52728),p=t(39660),n=t(82347),_=t.n(n);let u={home:[{image:"/images/tutorial/home_1.png",descriptionKey:"home.step1"},{image:"/images/tutorial/home_2.png",descriptionKey:"home.step2"},{image:"/images/tutorial/home_3.png",descriptionKey:"home.step3"},{image:"/images/tutorial/home_4.png",descriptionKey:"home.step4"},{image:"/images/tutorial/home_5.png",descriptionKey:"home.step5"}],map:[{image:"/images/tutorial/map_1.png",descriptionKey:"map.step1"},{image:"/images/tutorial/map_2.png",descriptionKey:"map.step2"},{image:"/images/tutorial/map_3.png",descriptionKey:"map.step3"},{image:"/images/tutorial/map_4.png",descriptionKey:"map.step4"}],search:[{image:"/images/tutorial/search_1.png",descriptionKey:"search.step1"},{image:"/images/tutorial/search_2.png",descriptionKey:"search.step2"},{image:"/images/tutorial/search_3.png",descriptionKey:"search.step3"}],settings:[{image:"/images/tutorial/setting_1.png",descriptionKey:"settings.step1"},{image:"/images/tutorial/setting_2.png",descriptionKey:"settings.step2"},{image:"/images/tutorial/setting_3.png",descriptionKey:"settings.step3"},{image:"/images/tutorial/setting_4.png",descriptionKey:"settings.step4"}]},c={home:"pageTitle.home",map:"pageTitle.map",search:"pageTitle.search",settings:"pageTitle.settings"},d=e=>{var a;let{visible:t,onClose:n,pageType:d,className:h=""}=e,m=(0,l.c3)("tutorial"),g=(0,l.c3)("common"),b=(0,r.useRef)(null),[T,x]=(0,r.useState)(0),C=(0,r.useMemo)(()=>u[d],[d]),P=C.length,k=m(c[d]),S=m((null==(a=C[T])?void 0:a.descriptionKey)||""),v=(0,r.useCallback)(e=>{x(e)},[]),w=(0,r.useCallback)(()=>{if(T>0){var e;null==(e=b.current)||e.swipeTo(T-1)}},[T]),N=(0,r.useCallback)(()=>{if(T<P-1){var e;null==(e=b.current)||e.swipeTo(T+1)}else n()},[T,P,n]),f=(0,r.useCallback)(()=>{n()},[n]),j=(0,r.useCallback)(()=>{requestAnimationFrame(()=>{var e;x(0),null==(e=b.current)||e.swipeTo(0)})},[]);return(0,o.jsx)(i.g_,{visible:t,onClose:f,afterClose:j,className:"".concat(_().helpTutorialPopup," ").concat(h),bodyClassName:_().helpTutorialPopup__popupBody,children:(0,o.jsxs)("div",{className:_().helpTutorialPopup__container,children:[(0,o.jsxs)("div",{className:_().helpTutorialPopup__body,children:[(0,o.jsx)("button",{className:_().helpTutorialPopup__closeButton,onClick:f,"aria-label":g("close"),children:(0,o.jsx)(s.gz,{size:12,color:"white"})}),(0,o.jsxs)("div",{className:_().helpTutorialPopup__imageSection,children:[(0,o.jsx)("div",{className:_().helpTutorialPopup__imageContainer,children:(0,o.jsx)(i.RC,{ref:b,indicator:()=>null,loop:!1,onIndexChange:v,defaultIndex:T,className:_().helpTutorialPopup__swiper,children:C.map((e,a)=>(0,o.jsx)(i.RC.Item,{children:(0,o.jsx)("div",{className:_().helpTutorialPopup__imageWrapper,children:(0,o.jsx)(p.$,{src:e.image,alt:"".concat(k," ").concat(m("step")," ").concat(a+1),fill:!0,lightweight:!0,className:_().helpTutorialPopup__image})})},a))})}),(0,o.jsx)("div",{className:_().helpTutorialPopup__indicator,children:C.map((e,a)=>(0,o.jsx)("span",{className:"".concat(_().helpTutorialPopup__dot," ").concat(a===T?_()["helpTutorialPopup__dot--active"]:"")},a))})]}),(0,o.jsxs)("div",{className:_().helpTutorialPopup__textSection,children:[(0,o.jsx)("p",{className:_().helpTutorialPopup__title,children:k}),(0,o.jsx)("p",{className:_().helpTutorialPopup__description,children:S})]})]}),(0,o.jsxs)("div",{className:_().helpTutorialPopup__footer,children:[(0,o.jsxs)("div",{className:_().helpTutorialPopup__pageNumber,children:[(0,o.jsx)("span",{children:String(T+1).padStart(2,"0")}),(0,o.jsx)("span",{className:_().helpTutorialPopup__pageSeparator}),(0,o.jsx)("span",{children:String(P).padStart(2,"0")})]}),(0,o.jsxs)("div",{className:_().helpTutorialPopup__buttons,children:[(0,o.jsx)("button",{className:"".concat(_().helpTutorialPopup__button," ").concat(_()["helpTutorialPopup__button--outline"]),onClick:w,disabled:0===T,children:g("previous")}),(0,o.jsx)("button",{className:"".concat(_().helpTutorialPopup__button," ").concat(_()["helpTutorialPopup__button--solid"]),onClick:N,children:T===P-1?m("startExplore"):g("next")})]})]})]})})};d.displayName="HelpTutorialPopup"},8804:(e,a,t)=>{"use strict";t.d(a,{j:()=>p});var o=t(81556),r=t(47256),l=t(83678),i=t(18255),s=t.n(i);let p=r.forwardRef((e,a)=>{let{length:t=3,error:r=!1,caret:i=!0,value:p,defaultValue:n,onChange:_,onFill:u,onFocus:c,onBlur:d,className:h,"aria-label":m,...g}=e;return(0,o.jsx)(l.jW,{...g,ref:a,length:t,seperated:!0,plain:!0,error:r,caret:i,value:p,defaultValue:n,onChange:_,onFill:u,onFocus:c,onBlur:d,className:"".concat(s().passcodeInput," ").concat(h||""),"aria-label":m,"aria-invalid":r||void 0,style:{"--cell-size":"64px","--cell-gap":"8px","--border-radius":"8px","--border-color":r?"#f36363":"#595959",...g.style}})});p.displayName="PasscodeInput"},9656:e=>{e.exports={searchPage:"page_searchPage__Yc_dq",searchPage__navbar:"page_searchPage__navbar__jNtAM",pageHeaderWrapper:"page_pageHeaderWrapper__P6MFN",inputSection:"page_inputSection__hR_I1",resultsSection:"page_resultsSection__ff2Q8","resultsSection--hasResults":"page_resultsSection--hasResults__1AArx",placeholder:"page_placeholder__roOTg",resultsList:"page_resultsList__Jef9G"}},10433:e=>{e.exports={dialog:"Dialog_dialog__He66e","adm-dialog-button-bold":"Dialog_adm-dialog-button-bold__sh2xe"}},12310:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var o=t(81556);t(47256);var r=t(39660),l=t(52728),i=t(86725),s=t.n(i);let p=e=>{let{image:a,imageAlt:t,title:i,location:p,exhibitionTitle:n,onClick:_,className:u=""}=e,c=[s().workCardSearch,_&&s()["workCardSearch--clickable"],u].filter(Boolean).join(" ");return(0,o.jsxs)("div",{className:c,onClick:_,role:_?"button":void 0,tabIndex:_?0:void 0,"aria-label":_?"查看 ".concat(i," 詳情，位置：").concat(p.floor," ").concat(p.room,"，展覽：").concat(n):void 0,onKeyDown:e=>{_&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),_())},children:[(0,o.jsx)("div",{className:s().workCardSearch__imageWrapper,children:(0,o.jsx)(r.$,{src:a,alt:t||i,width:96,height:96,className:s().workCardSearch__image})}),(0,o.jsxs)("div",{className:s().workCardSearch__body,children:[(0,o.jsxs)("div",{className:s().workCardSearch__header,children:[(0,o.jsxs)("div",{className:s().workCardSearch__headerGroup,children:[(0,o.jsxs)("div",{className:s().workCardSearch__location,children:[(0,o.jsx)("span",{className:s().workCardSearch__floor,children:p.floor}),(0,o.jsx)("span",{className:s().workCardSearch__room,children:p.room})]}),(0,o.jsx)("h3",{className:s().workCardSearch__title,children:i})]}),_&&(0,o.jsx)("div",{className:s().workCardSearch__arrow,"aria-hidden":"true",children:(0,o.jsx)(l.A0.Outline,{size:14,color:"white"})})]}),(0,o.jsx)("div",{className:s().workCardSearch__footer,children:(0,o.jsx)("p",{className:s().workCardSearch__exhibitionTitle,children:n})})]})]})};p.displayName="WorkCardSearch";let n=p},13695:e=>{e.exports={container:"Container_container__XXTJc"}},14563:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>P});var o=t(81556),r=t(47256),l=t(34739),i=t(35566),s=t(51700),p=t(87610),n=t(8804),_=t(26802),u=t(65728),c=t(12310),d=t(78338),h=t(6010),m=t(52728),g=t(89120),b=t(47469),T=t(71526),x=t(9656),C=t.n(x);function P(){let e=(0,l.c3)("search"),a=(0,g._)(),[t,x]=(0,r.useState)(!1),{play:P,currentTrack:k}=(0,b.F)(),{contentVersionType:S,mediaType:v,getMediaInfoFromSearchResult:w}=(0,T.S)(),[N,f]=(0,r.useState)(""),[j,y]=(0,r.useState)(!1),[H,B]=(0,r.useState)([]),[I,W]=(0,r.useState)("none"),D=(0,r.useRef)(null),[K,R]=(0,r.useState)(null),[A,z]=(0,r.useState)(!1),L=(0,r.useCallback)(async e=>{if(!e){B([]),W("none");return}let t=await a.workSearch.searchByNumber(e);if(0===t.length)B([]),W("workNotFound");else{let e=t.filter(e=>e.audioURL);0===e.length?(B([]),W("noAudioInLanguage")):(B(e),W("none"))}},[a.workSearch]);(0,r.useEffect)(()=>{if(0===N.length){B([]),W("none");return}3===N.length?L(N):(B([]),W("none"))},[N,L]);let E=(0,r.useCallback)(e=>{/^\d$/.test(e)&&f(a=>a.length>=3?a:a+e)},[]),F=(0,r.useCallback)(()=>{f(e=>e.slice(0,-1))},[]),M=(0,r.useCallback)(()=>{N.length>0&&L(N)},[L,N]),O=(0,r.useCallback)(e=>{var a;let t=w(e);return{id:e.workID,title:e.title,thumbnail:e.image,exhibitionID:e.exhibitionID,exhibitionName:e.exhibitionTitle,floor:e.floor,room:e.room,spaceUid:e.spaceUid,mapLocation:e.mapLocation,has3DModel:e.has3DModel,contentVersionType:S,contents:t.url&&t.contentID?[{id:t.contentID,type:v,url:t.url,duration:null!=(a=t.duration)?a:0,status:"available"}]:[]}},[S,v,w]),G=(0,r.useCallback)(e=>{P(O(e))},[O,P]),J=(0,r.useCallback)(e=>{if(j){var a;y(!1),null==(a=D.current)||a.blur()}if(k&&k.exhibitionID!==e.exhibitionID){R(e),z(!0);return}G(e)},[k,G,j]),U=(0,r.useMemo)(()=>[{key:"cancel",text:e("switchTour.cancel")},{key:"confirm",text:e("switchTour.confirm"),bold:!0}],[e]),q="none"!==I,$=(0,r.useCallback)(()=>{if(j){var e;y(!1),null==(e=D.current)||e.blur()}},[j]);return(0,o.jsxs)("div",{className:C().searchPage,children:[(0,o.jsx)(i.A,{layout:"only-right",showRight:!0,rightButtonType:"help",onRightClick:()=>x(!0),className:C().searchPage__navbar}),(0,o.jsx)("div",{className:C().pageHeaderWrapper,onClick:$,children:(0,o.jsx)(s.m,{children:(0,o.jsx)(p.z,{variant:"withSubtitle",title:e("title"),subtitle:e("subtitle")})})}),(0,o.jsxs)("div",{className:C().inputSection,children:[(0,o.jsx)(n.j,{length:3,value:N,error:q,onChange:e=>f(e.replace(/[^\d]/g,"").slice(0,3)),onFill:e=>f(e),onFocus:()=>y(!0),ref:D,"aria-label":e("enterWorkNumber")}),(0,o.jsx)(_.d,{visible:j,showCloseButton:!0,onInput:E,onDelete:F,onClose:$,onConfirm:M,"aria-label":e("numberKeyboard")})]}),(0,o.jsxs)("div",{className:"".concat(C().resultsSection," ").concat(H.length>0||q?C()["resultsSection--hasResults"]:""),onClick:$,children:[q&&(0,o.jsx)(u.S,{icon:(0,o.jsx)(m.Vg,{}),title:e("errors.".concat(I))}),!q&&0===H.length&&0===N.length&&(0,o.jsxs)("div",{className:C().placeholder,children:[(0,o.jsx)(m.Ts.Outline,{}),(0,o.jsx)("p",{children:e("placeholder")})]}),!q&&H.length>0&&(0,o.jsx)("div",{className:C().resultsList,children:H.map(e=>(0,o.jsx)(c.A,{image:e.image,title:e.title,location:{floor:e.floor||"",room:e.room||""},exhibitionTitle:e.exhibitionTitle||"",onClick:()=>J(e)},e.workID))})]}),(0,o.jsx)(d.l,{visible:A,title:e("switchTour.title"),content:e("switchTour.content"),actions:U,onAction:e=>{"confirm"===e.key&&K&&G(K),z(!1),R(null)},onClose:()=>z(!1)}),(0,o.jsx)(h.a,{visible:t,onClose:()=>x(!1),pageType:"search"})]})}},18255:e=>{e.exports={passcodeInput:"PasscodeInput_passcodeInput__nBX9R"}},26802:(e,a,t)=>{"use strict";t.d(a,{d:()=>p});var o=t(81556),r=t(47256),l=t(83678),i=t(99393),s=t.n(i);let p=e=>{let{visible:a=!1,title:t,confirmText:i="確定",customKey:p,showCloseButton:n=!0,onInput:_,onDelete:u,onClose:c,onConfirm:d,closeOnConfirm:h=!0,safeArea:m=!0,className:g,"aria-label":b,...T}=e;return(0,r.useEffect)(()=>(a?document.body.setAttribute("data-number-keyboard-visible","true"):document.body.removeAttribute("data-number-keyboard-visible"),()=>{document.body.removeAttribute("data-number-keyboard-visible")}),[a]),(0,o.jsx)(l.d_,{...T,visible:a,title:t,confirmText:i,customKey:p,showCloseButton:n,onInput:_,onDelete:u,onClose:c,onConfirm:d,closeOnConfirm:h,safeArea:m,className:"".concat(s().numberKeyboard," ").concat(g||""),"aria-label":b})};p.displayName="NumberKeyboard"},51161:e=>{e.exports={pageHeader:"PageHeader_pageHeader__2iQSL",pageHeader__title:"PageHeader_pageHeader__title__M0T3x",pageHeader__subtitle:"PageHeader_pageHeader__subtitle__A4YCW"}},51700:(e,a,t)=>{"use strict";t.d(a,{m:()=>i});var o=t(81556);t(47256);var r=t(13695),l=t.n(r);let i=e=>{let{children:a,className:t}=e;return(0,o.jsx)("div",{className:"".concat(l().container," ").concat(t||""),children:a})};i.displayName="Container"},65728:(e,a,t)=>{"use strict";t.d(a,{S:()=>s});var o=t(81556);t(47256);var r=t(83678),l=t(67819),i=t.n(l);let s=e=>{let{title:a,description:t,icon:l=null,className:s,...p}=e,n=null!=l;return(0,o.jsx)(r.Q7,{...p,title:a,description:t,icon:l,className:"".concat(i().resultCard," ").concat(n?i().hasIcon:i().noIcon," ").concat(s||"")})};s.displayName="ResultCard"},67819:e=>{e.exports={resultCard:"ResultCard_resultCard__pyOFi",noIcon:"ResultCard_noIcon__6pREw"}},72633:e=>{e.exports={button:"Button_button__aem_D","button--status-disabled":"Button_button--status-disabled__SlJ2d","button--size-small":"Button_button--size-small__L4c08","button--with-icon":"Button_button--with-icon__1LJ4B","button--fill-outline":"Button_button--fill-outline__giufq","button--fill-none":"Button_button--fill-none__PkkHq","button--fill-solid":"Button_button--fill-solid__7C4sX","button--size-mini":"Button_button--size-mini__c9_2D",button__icon:"Button_button__icon__Y5aVr",button__text:"Button_button__text__Y9TfD","button--status-focused":"Button_button--status-focused__LaRSN"}},78338:(e,a,t)=>{"use strict";t.d(a,{l:()=>s});var o=t(81556);t(47256);var r=t(83678),l=t(10433),i=t.n(l);let s=e=>{let{title:a,content:t,actions:l=[{key:"cancel",text:"先不要"},{key:"confirm",text:"好",bold:!0}],visible:s,onAction:p,onClose:n,className:_,...u}=e;return(0,o.jsx)(r.lG,{...u,visible:s,title:a,content:t,actions:l,onAction:p,onClose:n,className:"".concat(i().dialog," ").concat(_||"")})};s.displayName="Dialog"},82347:e=>{e.exports={helpTutorialPopup:"HelpTutorialPopup_helpTutorialPopup__Nyaob",helpTutorialPopup__popupBody:"HelpTutorialPopup_helpTutorialPopup__popupBody__7JuUn",helpTutorialPopup__container:"HelpTutorialPopup_helpTutorialPopup__container__YJXTE",helpTutorialPopup__body:"HelpTutorialPopup_helpTutorialPopup__body__EugBL",helpTutorialPopup__closeButton:"HelpTutorialPopup_helpTutorialPopup__closeButton__K_Eyt",helpTutorialPopup__imageSection:"HelpTutorialPopup_helpTutorialPopup__imageSection__ahMLo",helpTutorialPopup__imageContainer:"HelpTutorialPopup_helpTutorialPopup__imageContainer__gJPoa",helpTutorialPopup__swiper:"HelpTutorialPopup_helpTutorialPopup__swiper__0z8z9",helpTutorialPopup__imageWrapper:"HelpTutorialPopup_helpTutorialPopup__imageWrapper__4aUiO",helpTutorialPopup__image:"HelpTutorialPopup_helpTutorialPopup__image__sUS6t",helpTutorialPopup__indicator:"HelpTutorialPopup_helpTutorialPopup__indicator__3FTvR",helpTutorialPopup__dot:"HelpTutorialPopup_helpTutorialPopup__dot__g3D4_","helpTutorialPopup__dot--active":"HelpTutorialPopup_helpTutorialPopup__dot--active__4jsTS",helpTutorialPopup__textSection:"HelpTutorialPopup_helpTutorialPopup__textSection__fy18d",helpTutorialPopup__title:"HelpTutorialPopup_helpTutorialPopup__title__qDJRO",helpTutorialPopup__description:"HelpTutorialPopup_helpTutorialPopup__description__ee5Ss",helpTutorialPopup__footer:"HelpTutorialPopup_helpTutorialPopup__footer__sY0Wd",helpTutorialPopup__pageNumber:"HelpTutorialPopup_helpTutorialPopup__pageNumber__U6Ipe",helpTutorialPopup__pageSeparator:"HelpTutorialPopup_helpTutorialPopup__pageSeparator__X_epy",helpTutorialPopup__buttons:"HelpTutorialPopup_helpTutorialPopup__buttons__EfNwi",helpTutorialPopup__button:"HelpTutorialPopup_helpTutorialPopup__button__NiAoa","helpTutorialPopup__button--outline":"HelpTutorialPopup_helpTutorialPopup__button--outline__v_dcs","helpTutorialPopup__button--solid":"HelpTutorialPopup_helpTutorialPopup__button--solid__MFxDy"}},86725:e=>{e.exports={workCardSearch:"WorkCardSearch_workCardSearch__FhQ_n","workCardSearch--clickable":"WorkCardSearch_workCardSearch--clickable__VnIud",workCardSearch__imageWrapper:"WorkCardSearch_workCardSearch__imageWrapper__0ML5G",workCardSearch__image:"WorkCardSearch_workCardSearch__image__dnlc_",workCardSearch__body:"WorkCardSearch_workCardSearch__body__2OD_v",workCardSearch__header:"WorkCardSearch_workCardSearch__header__cSNIA",workCardSearch__headerGroup:"WorkCardSearch_workCardSearch__headerGroup__LRB4p",workCardSearch__location:"WorkCardSearch_workCardSearch__location__jgl6D",workCardSearch__floor:"WorkCardSearch_workCardSearch__floor__8uyah",workCardSearch__room:"WorkCardSearch_workCardSearch__room__xHs2d",workCardSearch__title:"WorkCardSearch_workCardSearch__title__kDqqs",workCardSearch__arrow:"WorkCardSearch_workCardSearch__arrow__5x0IU",workCardSearch__footer:"WorkCardSearch_workCardSearch__footer__R0teD",workCardSearch__exhibitionTitle:"WorkCardSearch_workCardSearch__exhibitionTitle__QCG4B"}},87610:(e,a,t)=>{"use strict";t.d(a,{z:()=>s});var o=t(81556);t(47256);var r=t(97360),l=t(51161),i=t.n(l);let s=e=>{let{variant:a="full",title:t,subtitle:l,buttonText:s,onButtonClick:p,className:n}=e;return(0,o.jsxs)("div",{className:"".concat(i().pageHeader," ").concat(i()["pageHeader--".concat(a)]," ").concat(n||""),children:[(0,o.jsx)("h1",{className:i().pageHeader__title,children:t}),("full"===a||"withSubtitle"===a)&&l&&(0,o.jsx)("p",{className:i().pageHeader__subtitle,children:l}),"full"===a&&s&&(0,o.jsx)(r.$,{fill:"outline",size:"small",onClick:p,children:s})]})};s.displayName="PageHeader"},95610:(e,a,t)=>{"use strict";t.d(a,{$:()=>i});var o=t(81556);t(47256);var r=t(72633),l=t.n(r);let i=e=>{let{size:a="small",fill:t="outline",icon:r,status:i="enabled",children:s,onClick:p,type:n="button",className:_="","aria-label":u}=e,c=[l().button,l()["button--size-".concat(a)],l()["button--fill-".concat(t)],r&&l()["button--with-icon"],l()["button--status-".concat(i)],_].filter(Boolean).join(" ");return(0,o.jsxs)("button",{type:n,onClick:p,disabled:"disabled"===i,className:c,"aria-label":u,children:[r&&(0,o.jsx)(r,{size:18,className:l().button__icon,color:"solid"===t&&"small"===a?"black":"outline"===t&&"small"===a?"gold":"white","aria-hidden":"true"}),(0,o.jsx)("span",{className:l().button__text,children:s})]})};i.displayName="Button"},97272:(e,a,t)=>{Promise.resolve().then(t.bind(t,14563))},97360:(e,a,t)=>{"use strict";t.d(a,{$:()=>o.$});var o=t(95610)},99393:e=>{e.exports={numberKeyboard:"NumberKeyboard_numberKeyboard__oA3GB"}}},e=>{e.O(0,[4676,9152,7906,4772,4730,3678,6208,4576,4078,1778,9120,9402,5510,7358],()=>e(e.s=97272)),_N_E=e.O()}]);