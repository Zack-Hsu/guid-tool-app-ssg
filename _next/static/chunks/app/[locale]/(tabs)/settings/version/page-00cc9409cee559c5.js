(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8236],{20974:e=>{e.exports={page:"page_page__0G_iU",page__navbar:"page_page__navbar__Jsiqs",page__content:"page_page__content__nkz1b",versionList:"page_versionList__1gFZH",versionItem:"page_versionItem__HGnuP","versionItem--selected":"page_versionItem--selected__28lgv",versionItem__name:"page_versionItem__name___9EFU",versionItem__checkIcon:"page_versionItem__checkIcon__afqA6",versionItem__icon:"page_versionItem__icon__IOaNd"}},25953:(e,n,t)=>{"use strict";t.d(n,{VenueProvider:()=>v,Z:()=>m});var s=t(81556),a=t(47256),o=t(47077),r=t(28404),u=t(91765),i=t(47251),l=t(7241),c=t(50861),d=t(13588);let _=(0,a.createContext)(void 0),g={languages:[...d.Fc],languageNames:{...d.G2}},p={versions:[...d.MB],versionNames:{...d.v4}};function v(e){let{children:n}=e,[t,v]=(0,a.useState)(null),[m,f]=(0,a.useState)(!0),[h,k]=(0,a.useState)(null),[x,I]=(0,a.useState)([]),[C,V]=(0,a.useState)([]),F=(0,i.Ym)(),{version:N}=(0,l.t)(),b=(0,c.MV)(),y=(0,a.useCallback)(async()=>{try{f(!0),k(null),u.vF.info("[VenueContext] Loading venue_uid from system_info",{});let e=await (0,o.$4)(F,N);v(e),u.vF.info("[VenueContext] venue_uid loaded",{uid:e})}catch(n){let e=n instanceof Error?n.message:"Unknown error";u.vF.error("[VenueContext] Failed to load venue_uid",{error:e}),k(e)}finally{f(!1)}},[F,N]),w=(0,a.useCallback)(async()=>{try{var e,n,t,s;let a=await (0,o.yV)(F,N),i=!1,l=!1;if(u.vF.info("[VenueContext] systemInfo loaded",{hasVenues:!!(null==a?void 0:a.venues),venuesLength:null==a||null==(e=a.venues)?void 0:e.length,firstVenue:(null==a||null==(n=a.venues)?void 0:n[0])?{uid:a.venues[0].uid,supported_languages:a.venues[0].supported_languages,supported_contents:a.venues[0].supported_contents}:null}),(null==a?void 0:a.venues)&&a.venues.length>0){let e=a.venues[0];e.supported_languages&&e.supported_languages.length>0&&(I(e.supported_languages),i=!0,u.vF.info("[VenueContext] Loaded supported_languages from systemInfo",{languages:e.supported_languages})),e.supported_contents&&e.supported_contents.length>0&&(V(e.supported_contents),l=!0,u.vF.info("[VenueContext] Loaded supported_contents from systemInfo",{contents:e.supported_contents}))}if(!i||!l){u.vF.info("[VenueContext] systemInfo missing data, trying package_info",{hasLanguages:i,hasContents:l});let e=await (0,r.QE)();u.vF.info("[VenueContext] packageInfo loaded",{hasPackageInfo:!!e,supported_languages:null==e?void 0:e.supported_languages,supported_contents:null==e?void 0:e.supported_contents}),e?(!i&&(null==(t=e.supported_languages)?void 0:t.length)>0&&(I(e.supported_languages),u.vF.info("[VenueContext] Loaded supported_languages from package_info",{languages:e.supported_languages})),!l&&(null==(s=e.supported_contents)?void 0:s.length)>0&&(V(e.supported_contents),u.vF.info("[VenueContext] Loaded supported_contents from package_info",{contents:e.supported_contents}))):u.vF.warn("[VenueContext] No package_info available, using defaults")}}catch(e){u.vF.warn("[VenueContext] Failed to load system config, using defaults",{error:e instanceof Error?e.message:"Unknown error"})}},[F,N]);(0,a.useEffect)(()=>{if(!b)return void u.vF.debug("[VenueContext] Waiting for setup to complete...");y()},[y,b]),(0,a.useEffect)(()=>{b&&w()},[w,b]);let E=(0,a.useMemo)(()=>{if(0===x.length)return g;let e=x.filter(e=>d.Fc.includes(e)),n={};return e.forEach(e=>{n[e]=d.G2[e]||e}),{languages:e.length>0?e:g.languages,languageNames:Object.keys(n).length>0?n:g.languageNames}},[x]),P=(0,a.useMemo)(()=>{if(0===C.length)return p;let e=C.filter(e=>d.MB.includes(e)),n={};return e.forEach(e=>{n[e]=d.v4[e]||e}),{versions:e.length>0?e:p.versions,versionNames:Object.keys(n).length>0?n:p.versionNames}},[C]),j=(0,a.useMemo)(()=>({venueUid:t,isLoading:m,error:h,reload:y,languageConfig:E,versionConfig:P}),[t,m,h,y,E,P]);return(0,s.jsx)(_.Provider,{value:j,children:n})}function m(){let e=(0,a.useContext)(_);if(void 0===e)throw Error("useVenue must be used within a VenueProvider");return e}},51472:(e,n,t)=>{Promise.resolve().then(t.bind(t,68621))},54961:(e,n,t)=>{"use strict";var s=t(60541);t.o(s,"permanentRedirect")&&t.d(n,{permanentRedirect:function(){return s.permanentRedirect}}),t.o(s,"redirect")&&t.d(n,{redirect:function(){return s.redirect}}),t.o(s,"useParams")&&t.d(n,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(n,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(n,{useRouter:function(){return s.useRouter}})},68621:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>g});var s=t(81556);t(47256);var a=t(34739),o=t(54961),r=t(35566),u=t(25953),i=t(52728),l=t(7241),c=t(20974),d=t.n(c);let _={adult:"version.adult",kids:"version.kids",sign_language:"version.signLanguage",audio_description:"version.audioDescription"};function g(){let e=(0,a.c3)("settings"),n=(0,o.useRouter)(),{version:t,setVersion:c}=(0,l.t)(),{versionConfig:g}=(0,u.Z)(),p=async e=>{await c(e),n.back()};return(0,s.jsxs)("div",{className:d().page,children:[(0,s.jsx)(r.A,{title:e("version.title"),showBackArrow:!0,onBackClick:()=>{n.back()},showRight:!0,rightButtonType:"help",className:d().page__navbar}),(0,s.jsx)("div",{className:d().page__content,children:(0,s.jsx)("div",{className:d().versionList,children:g.versions.map(n=>{let a=n===t,o=e(_[n]);return(0,s.jsxs)("button",{className:"".concat(d().versionItem," ").concat(a?d()["versionItem--selected"]:""),onClick:()=>p(n),"aria-label":"Select ".concat(o),"aria-current":a?"true":"false",children:[(0,s.jsx)("span",{className:d().versionItem__name,children:o}),a&&(0,s.jsx)("div",{className:d().versionItem__checkIcon,children:(0,s.jsx)(i.iW,{className:d().versionItem__icon})})]},n)})})})]})}}},e=>{e.O(0,[4676,3343,4772,4730,6208,4576,861,9402,5510,7358],()=>e(e.s=51472)),_N_E=e.O()}]);