(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3264],{6010:(e,a,t)=>{"use strict";t.d(a,{a:()=>d});var i=t(81556),l=t(47256),o=t(34739),r=t(83678),p=t(52728),n=t(39660),s=t(82347),u=t.n(s);let c={home:[{image:"/images/tutorial/home_1.png",descriptionKey:"home.step1"},{image:"/images/tutorial/home_2.png",descriptionKey:"home.step2"},{image:"/images/tutorial/home_3.png",descriptionKey:"home.step3"},{image:"/images/tutorial/home_4.png",descriptionKey:"home.step4"},{image:"/images/tutorial/home_5.png",descriptionKey:"home.step5"}],map:[{image:"/images/tutorial/map_1.png",descriptionKey:"map.step1"},{image:"/images/tutorial/map_2.png",descriptionKey:"map.step2"},{image:"/images/tutorial/map_3.png",descriptionKey:"map.step3"},{image:"/images/tutorial/map_4.png",descriptionKey:"map.step4"}],search:[{image:"/images/tutorial/search_1.png",descriptionKey:"search.step1"},{image:"/images/tutorial/search_2.png",descriptionKey:"search.step2"},{image:"/images/tutorial/search_3.png",descriptionKey:"search.step3"}],settings:[{image:"/images/tutorial/setting_1.png",descriptionKey:"settings.step1"},{image:"/images/tutorial/setting_2.png",descriptionKey:"settings.step2"},{image:"/images/tutorial/setting_3.png",descriptionKey:"settings.step3"},{image:"/images/tutorial/setting_4.png",descriptionKey:"settings.step4"}]},_={home:"pageTitle.home",map:"pageTitle.map",search:"pageTitle.search",settings:"pageTitle.settings"},d=e=>{var a;let{visible:t,onClose:s,pageType:d,className:m=""}=e,h=(0,o.c3)("tutorial"),g=(0,o.c3)("common"),v=(0,l.useRef)(null),[x,b]=(0,l.useState)(0),T=(0,l.useMemo)(()=>c[d],[d]),P=T.length,C=h(_[d]),f=h((null==(a=T[x])?void 0:a.descriptionKey)||""),j=(0,l.useCallback)(e=>{b(e)},[]),k=(0,l.useCallback)(()=>{if(x>0){var e;null==(e=v.current)||e.swipeTo(x-1)}},[x]),N=(0,l.useCallback)(()=>{if(x<P-1){var e;null==(e=v.current)||e.swipeTo(x+1)}else s()},[x,P,s]),M=(0,l.useCallback)(()=>{s()},[s]),y=(0,l.useCallback)(()=>{requestAnimationFrame(()=>{var e;b(0),null==(e=v.current)||e.swipeTo(0)})},[]);return(0,i.jsx)(r.g_,{visible:t,onClose:M,afterClose:y,className:"".concat(u().helpTutorialPopup," ").concat(m),bodyClassName:u().helpTutorialPopup__popupBody,children:(0,i.jsxs)("div",{className:u().helpTutorialPopup__container,children:[(0,i.jsxs)("div",{className:u().helpTutorialPopup__body,children:[(0,i.jsx)("button",{className:u().helpTutorialPopup__closeButton,onClick:M,"aria-label":g("close"),children:(0,i.jsx)(p.gz,{size:12,color:"white"})}),(0,i.jsxs)("div",{className:u().helpTutorialPopup__imageSection,children:[(0,i.jsx)("div",{className:u().helpTutorialPopup__imageContainer,children:(0,i.jsx)(r.RC,{ref:v,indicator:()=>null,loop:!1,onIndexChange:j,defaultIndex:x,className:u().helpTutorialPopup__swiper,children:T.map((e,a)=>(0,i.jsx)(r.RC.Item,{children:(0,i.jsx)("div",{className:u().helpTutorialPopup__imageWrapper,children:(0,i.jsx)(n.$,{src:e.image,alt:"".concat(C," ").concat(h("step")," ").concat(a+1),fill:!0,lightweight:!0,className:u().helpTutorialPopup__image})})},a))})}),(0,i.jsx)("div",{className:u().helpTutorialPopup__indicator,children:T.map((e,a)=>(0,i.jsx)("span",{className:"".concat(u().helpTutorialPopup__dot," ").concat(a===x?u()["helpTutorialPopup__dot--active"]:"")},a))})]}),(0,i.jsxs)("div",{className:u().helpTutorialPopup__textSection,children:[(0,i.jsx)("p",{className:u().helpTutorialPopup__title,children:C}),(0,i.jsx)("p",{className:u().helpTutorialPopup__description,children:f})]})]}),(0,i.jsxs)("div",{className:u().helpTutorialPopup__footer,children:[(0,i.jsxs)("div",{className:u().helpTutorialPopup__pageNumber,children:[(0,i.jsx)("span",{children:String(x+1).padStart(2,"0")}),(0,i.jsx)("span",{className:u().helpTutorialPopup__pageSeparator}),(0,i.jsx)("span",{children:String(P).padStart(2,"0")})]}),(0,i.jsxs)("div",{className:u().helpTutorialPopup__buttons,children:[(0,i.jsx)("button",{className:"".concat(u().helpTutorialPopup__button," ").concat(u()["helpTutorialPopup__button--outline"]),onClick:k,disabled:0===x,children:g("previous")}),(0,i.jsx)("button",{className:"".concat(u().helpTutorialPopup__button," ").concat(u()["helpTutorialPopup__button--solid"]),onClick:N,children:x===P-1?h("startExplore"):g("next")})]})]})]})})};d.displayName="HelpTutorialPopup"},51161:e=>{e.exports={pageHeader:"PageHeader_pageHeader__2iQSL",pageHeader__title:"PageHeader_pageHeader__title__M0T3x",pageHeader__subtitle:"PageHeader_pageHeader__subtitle__A4YCW"}},52250:(e,a,t)=>{"use strict";t.d(a,{z:()=>i.z});var i=t(87610)},54961:(e,a,t)=>{"use strict";var i=t(60541);t.o(i,"permanentRedirect")&&t.d(a,{permanentRedirect:function(){return i.permanentRedirect}}),t.o(i,"redirect")&&t.d(a,{redirect:function(){return i.redirect}}),t.o(i,"useParams")&&t.d(a,{useParams:function(){return i.useParams}}),t.o(i,"usePathname")&&t.d(a,{usePathname:function(){return i.usePathname}}),t.o(i,"useRouter")&&t.d(a,{useRouter:function(){return i.useRouter}})},70254:(e,a,t)=>{"use strict";t.d(a,{A:()=>i.A});var i=t(35566)},76478:(e,a,t)=>{Promise.resolve().then(t.bind(t,88446))},80856:e=>{e.exports={tourCardMap:"TourCardMap_tourCardMap__MhTZ1","tourCardMap--clickable":"TourCardMap_tourCardMap--clickable__GcbFx",tourCardMap__imageWrapper:"TourCardMap_tourCardMap__imageWrapper__3HnUS",tourCardMap__image:"TourCardMap_tourCardMap__image__Rnbr8",tourCardMap__gradient:"TourCardMap_tourCardMap__gradient__6Xksg",tourCardMap__content:"TourCardMap_tourCardMap__content__iOmKp",tourCardMap__textArea:"TourCardMap_tourCardMap__textArea__Y5PPM",tourCardMap__location:"TourCardMap_tourCardMap__location__3wfgG",tourCardMap__floor:"TourCardMap_tourCardMap__floor__RTM9j",tourCardMap__rooms:"TourCardMap_tourCardMap__rooms__XAPz_",tourCardMap__title:"TourCardMap_tourCardMap__title__vt3uV",tourCardMap__arrowIcon:"TourCardMap_tourCardMap__arrowIcon__HQQLf"}},82347:e=>{e.exports={helpTutorialPopup:"HelpTutorialPopup_helpTutorialPopup__Nyaob",helpTutorialPopup__popupBody:"HelpTutorialPopup_helpTutorialPopup__popupBody__7JuUn",helpTutorialPopup__container:"HelpTutorialPopup_helpTutorialPopup__container__YJXTE",helpTutorialPopup__body:"HelpTutorialPopup_helpTutorialPopup__body__EugBL",helpTutorialPopup__closeButton:"HelpTutorialPopup_helpTutorialPopup__closeButton__K_Eyt",helpTutorialPopup__imageSection:"HelpTutorialPopup_helpTutorialPopup__imageSection__ahMLo",helpTutorialPopup__imageContainer:"HelpTutorialPopup_helpTutorialPopup__imageContainer__gJPoa",helpTutorialPopup__swiper:"HelpTutorialPopup_helpTutorialPopup__swiper__0z8z9",helpTutorialPopup__imageWrapper:"HelpTutorialPopup_helpTutorialPopup__imageWrapper__4aUiO",helpTutorialPopup__image:"HelpTutorialPopup_helpTutorialPopup__image__sUS6t",helpTutorialPopup__indicator:"HelpTutorialPopup_helpTutorialPopup__indicator__3FTvR",helpTutorialPopup__dot:"HelpTutorialPopup_helpTutorialPopup__dot__g3D4_","helpTutorialPopup__dot--active":"HelpTutorialPopup_helpTutorialPopup__dot--active__4jsTS",helpTutorialPopup__textSection:"HelpTutorialPopup_helpTutorialPopup__textSection__fy18d",helpTutorialPopup__title:"HelpTutorialPopup_helpTutorialPopup__title__qDJRO",helpTutorialPopup__description:"HelpTutorialPopup_helpTutorialPopup__description__ee5Ss",helpTutorialPopup__footer:"HelpTutorialPopup_helpTutorialPopup__footer__sY0Wd",helpTutorialPopup__pageNumber:"HelpTutorialPopup_helpTutorialPopup__pageNumber__U6Ipe",helpTutorialPopup__pageSeparator:"HelpTutorialPopup_helpTutorialPopup__pageSeparator__X_epy",helpTutorialPopup__buttons:"HelpTutorialPopup_helpTutorialPopup__buttons__EfNwi",helpTutorialPopup__button:"HelpTutorialPopup_helpTutorialPopup__button__NiAoa","helpTutorialPopup__button--outline":"HelpTutorialPopup_helpTutorialPopup__button--outline__v_dcs","helpTutorialPopup__button--solid":"HelpTutorialPopup_helpTutorialPopup__button--solid__MFxDy"}},84087:e=>{e.exports={sectionHeader:"SectionHeader_sectionHeader__09chX",sectionHeader__title:"SectionHeader_sectionHeader__title__NLtF6",sectionHeader__titleText:"SectionHeader_sectionHeader__titleText__CVP66",sectionHeader__right:"SectionHeader_sectionHeader__right__829WL"}},87610:(e,a,t)=>{"use strict";t.d(a,{z:()=>p});var i=t(81556);t(47256);var l=t(97360),o=t(51161),r=t.n(o);let p=e=>{let{variant:a="full",title:t,subtitle:o,buttonText:p,onButtonClick:n,className:s}=e;return(0,i.jsxs)("div",{className:"".concat(r().pageHeader," ").concat(r()["pageHeader--".concat(a)]," ").concat(s||""),children:[(0,i.jsx)("h1",{className:r().pageHeader__title,children:t}),("full"===a||"withSubtitle"===a)&&o&&(0,i.jsx)("p",{className:r().pageHeader__subtitle,children:o}),"full"===a&&p&&(0,i.jsx)(l.$,{fill:"outline",size:"small",onClick:n,children:p})]})};p.displayName="PageHeader"},88446:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>W});var i=t(81556),l=t(47256),o=t(34739),r=t(47251),p=t(54961),n=t(83678),s=t(40696),u=t(39660),c=t(52728),_=t(80856),d=t.n(_);let m=e=>{let{image:a,imageAlt:t,title:l,location:o,onClick:r,className:p=""}=e,n=[d().tourCardMap,r&&d()["tourCardMap--clickable"],p].filter(Boolean).join(" "),s=o.rooms.join("、");return(0,i.jsxs)("div",{className:n,onClick:r,role:r?"button":void 0,tabIndex:r?0:void 0,"aria-label":r?"查看 ".concat(l," 展覽詳情，位置：").concat(o.floor," ").concat(s):void 0,onKeyDown:e=>{r&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),r())},children:[(0,i.jsxs)("div",{className:d().tourCardMap__imageWrapper,children:[(0,i.jsx)(u.$,{src:a,alt:t||l,fill:!0,className:d().tourCardMap__image,sizes:"(max-width: 768px) 100vw, 380px"}),(0,i.jsx)("div",{className:d().tourCardMap__gradient})]}),(0,i.jsxs)("div",{className:d().tourCardMap__content,children:[(0,i.jsxs)("div",{className:d().tourCardMap__textArea,children:[(0,i.jsxs)("div",{className:d().tourCardMap__location,children:[(0,i.jsx)("span",{className:d().tourCardMap__floor,children:o.floor}),(0,i.jsx)("span",{className:d().tourCardMap__rooms,children:s})]}),(0,i.jsx)("h3",{className:d().tourCardMap__title,children:l})]}),r&&(0,i.jsx)("div",{className:d().tourCardMap__arrowIcon,"aria-hidden":"true",children:(0,i.jsx)(c.A0.Outline,{size:16,color:"white"})})]})]})};m.displayName="TourCardMap";var h=t(70254),g=t(52250),v=t(99180),x=t(6010),b=t(27457),T=t(13064),P=t(22391),C=t(69036),f=t(79785),j=t(47469),k=t(71526),N=t(91765),M=t(93257),y=t(92160),H=t.n(y),S=t(55587),w=t(62449);function W(){let e=(0,o.c3)("map"),a=(0,o.c3)("common"),t=(0,r.Ym)(),u=(0,p.useRouter)(),{setPlaylist:_,play:d}=(0,j.F)(),{version:y,getMediaInfoByVersion:W,worksToPlaylist:I}=(0,k.S)(),{data:U,loading:B,error:A}=(0,C.K)(),R=(0,l.useMemo)(()=>{var e;return null!=(e=null==U?void 0:U.areas)?e:[]},[null==U?void 0:U.areas]),K=(0,l.useMemo)(()=>{var e;return null!=(e=null==U?void 0:U.exhibitions)?e:[]},[null==U?void 0:U.exhibitions]),[z,E]=(0,l.useState)(""),[F,L]=(0,l.useState)(!1),[D,O]=(0,l.useState)(null),[X,Y]=(0,l.useState)(null),[G,J]=(0,l.useState)([]),[Q,$]=(0,l.useState)(!1),[q,V]=(0,l.useState)(!1),{playingWorkId:Z,panelHeight:ee,bottomOffset:ea,onHeightChange:et,mapBackgroundColor:ei,handleMapImageLoad:el,selectedWorkId:eo,setSelectedWorkId:er}=(0,f.P)({works:G,isFullScreenMode:q}),[ep,en]=(0,l.useState)(!1);(0,l.useEffect)(()=>(q?document.body.setAttribute("data-fullscreen-map","true"):document.body.removeAttribute("data-fullscreen-map"),()=>{document.body.removeAttribute("data-fullscreen-map")}),[q]);let es=(0,l.useRef)(null);(0,l.useEffect)(()=>{R.length>0&&!z&&E([...R].sort((e,a)=>(0,w.sk)(e.name)-(0,w.sk)(a.name))[0].uid)},[R,K,z]),(0,l.useEffect)(()=>{if(q||!es.current)return;let e=s.Ii.isNativePlatform(),a=new IntersectionObserver(e=>{e.forEach(e=>{L(!e.isIntersecting)})},{root:null,rootMargin:"".concat(e?-112:-56,"px 0px 0px 0px"),threshold:[0,1]});return a.observe(es.current),()=>{a.disconnect()}},[B,q]);let eu=(0,l.useMemo)(()=>[...R].sort((e,a)=>(0,w.sk)(e.name)-(0,w.sk)(a.name)),[R]),ec=(0,l.useMemo)(()=>R.find(e=>e.uid===z),[R,z]),e_=(0,l.useMemo)(()=>(null==ec?void 0:ec.img_map)?(0,S.eN)(ec.img_map):"",[ec]),ed=(0,l.useMemo)(()=>ec?K.filter(e=>{var a;return null==(a=e.venue_locations)?void 0:a.some(e=>e.name===ec.name)}):[],[K,ec]),em=(0,l.useMemo)(()=>(null==ec?void 0:ec.spaces)?ec.spaces.map(e=>{let a=K.find(a=>{var t;return null==(t=a.venue_locations)?void 0:t.some(a=>{var t;return a.name===ec.name&&(null==(t=a.spaces)?void 0:t.some(a=>a.uid===e.uid))})});return{...e,exhibitionUid:null==a?void 0:a.uid,exhibitionName:null==a?void 0:a.name}}):[],[ec,K]),eh=(0,l.useMemo)(()=>{var e;if(!(null==X?void 0:X.venue_locations)||!ec)return[];let a=X.venue_locations.find(e=>e.name===ec.name);return(null==a||null==(e=a.spaces)?void 0:e.map(e=>e.uid))||[]},[null==X?void 0:X.venue_locations,ec]),eg=(0,l.useMemo)(()=>0===G.length?[]:D?G.filter(e=>e.spaceUid===D.uid):eh.length>0?G.filter(e=>e.spaceUid&&eh.includes(e.spaceUid)):[],[D,G,eh]),ev=(0,l.useMemo)(()=>{if(!(null==X?void 0:X.venue_locations))return[];let e=X.venue_locations.map(e=>e.name);return eu.filter(a=>e.includes(a.name))},[null==X?void 0:X.venue_locations,eu]),ex=(0,l.useMemo)(()=>{var e;if(!(null==X?void 0:X.venue_locations)||!ec)return[];let a=X.venue_locations.find(e=>e.name===ec.name);return(null==a||null==(e=a.spaces)?void 0:e.map(e=>e.name))||[]},[null==X?void 0:X.venue_locations,ec]),eb=(0,l.useMemo)(()=>0===eg.length?[]:eg.filter(e=>e.mapLocation).map(e=>{let a=W(e);return{workId:e.workID,title:e.title,imageUrl:e.image,hasAudio:!!a.url,mapLocation:e.mapLocation,spaceUid:e.spaceUid}}),[eg,W]),eT=(0,l.useCallback)(e=>{er(eo===e?null:e)},[eo,er]),eP=(0,l.useCallback)(e=>{u.push("/".concat(t,"/exhibition/").concat(e))},[u,t]),eC=(0,l.useCallback)(async e=>{var a,i,l;let o=K.find(a=>a.uid===e);if(!o)return;let r=null==(a=o.venue_locations)?void 0:a.find(e=>e.name===(null==ec?void 0:ec.name)),p=null==r||null==(i=r.spaces)?void 0:i[0],n=null==ec||null==(l=ec.spaces)?void 0:l.find(e=>e.uid===(null==p?void 0:p.uid));n?O({...n,exhibitionUid:o.uid,exhibitionName:o.name}):O(null),Y(o),$(!0),V(!0);try{let a=(await (0,M.nW)(e,t,y)).workCategories.flatMap(e=>e.works);J(a)}catch(a){N.vF.error("[MapPage] Failed to load exhibition works",{exhibitionUid:e,error:a}),J([])}},[K,ec,t,y]),ef=(0,l.useCallback)(async e=>{if(!e.exhibitionUid)return;let a=K.find(a=>a.uid===e.exhibitionUid);if(a){O(e),Y(a),$(!0),V(!0);try{let a=(await (0,M.nW)(e.exhibitionUid,t,y)).workCategories.flatMap(e=>e.works);J(a)}catch(a){N.vF.error("[MapPage] Failed to load exhibition works",{exhibitionUid:e.exhibitionUid,error:a}),J([])}}},[K,t,y]),ej=(0,l.useCallback)(()=>{$(!1),V(!1),O(null),Y(null),J([]),er(null)},[er]),ek=(0,l.useCallback)(()=>{V(!1),$(!1),O(null),Y(null),J([]),er(null)},[er]),eN=(0,l.useCallback)(e=>{er(e.workID)},[er]),eM=(0,l.useCallback)(e=>{if(!X||0===G.length)return;er(e.workID);let a=I(G,{exhibitionID:X.uid,exhibitionName:X.name}),t=G.findIndex(a=>a.workID===e.workID);-1!==t&&(_(a,t),d(a[t]))},[X,G,I,_,d,er]),ey=(0,l.useCallback)(e=>{E(e),O(null),er(null)},[er]),eH=(0,l.useMemo)(()=>eu.map(e=>({key:e.uid,title:e.name})),[eu]);if(B)return(0,i.jsxs)("div",{className:H().mapPage,children:[(0,i.jsx)(h.A,{layout:"only-right",showRight:!0,rightButtonType:"help",onRightClick:()=>en(!0),className:H().navbar}),(0,i.jsx)("div",{className:H().appBar,children:(0,i.jsx)("div",{className:H().pageHeaderWrapper,children:(0,i.jsx)(g.z,{variant:"withSubtitle",title:e("title"),subtitle:e("subtitle")})})}),(0,i.jsx)("div",{className:H().loadingContainer,children:(0,i.jsx)("p",{children:a("loading")})}),(0,i.jsx)(x.a,{visible:ep,onClose:()=>en(!1),pageType:"map"})]});if(A)return(0,i.jsxs)("div",{className:H().mapPage,children:[(0,i.jsx)(h.A,{layout:"only-right",showRight:!0,rightButtonType:"help",onRightClick:()=>en(!0),className:H().navbar}),(0,i.jsx)("div",{className:H().appBar,children:(0,i.jsx)("div",{className:H().pageHeaderWrapper,children:(0,i.jsx)(g.z,{variant:"withSubtitle",title:e("title"),subtitle:e("subtitle")})})}),(0,i.jsx)("div",{className:H().errorContainer,children:(0,i.jsx)("p",{children:A.message})}),(0,i.jsx)(x.a,{visible:ep,onClose:()=>en(!1),pageType:"map"})]});if(q){let a=ev.length>1;return(0,i.jsxs)("div",{className:H().fullScreenMapWrapper,style:ei?{backgroundColor:ei}:void 0,children:[(0,i.jsx)(h.A,{layout:"default",variant:"transparent",showBack:!0,showBackArrow:!0,showRight:!0,rightButtonType:"help",onBackClick:ek,onRightClick:()=>en(!0),className:H().fullScreenNavbar}),(0,i.jsx)("div",{className:H().fullScreenGradient}),e_&&(0,i.jsx)(T.R,{imageUrl:e_,imageAlt:"".concat((null==ec?void 0:ec.name)||""," ").concat(e("title")),spaces:em,selectedSpaceUid:null==D?void 0:D.uid,onSpaceClick:ef,workMarkers:eb,selectedWorkId:eo,onWorkMarkerClick:eT,zoomToSelected:!0,zoomToSelectedWork:!0,enableGestures:!0,bottomOffset:ea,onImageLoad:el,className:H().fullScreenMap,style:ei?{backgroundColor:ei}:void 0}),a&&(0,i.jsx)("div",{className:H().fullScreenFloorTabs,style:{bottom:ee+16},children:(0,i.jsx)(b.Y,{items:ev.map(e=>({key:e.uid,title:e.name})),activeKey:z,onChange:ey})}),(0,i.jsx)(P.n,{visible:Q,exhibition:X,works:eg,currentFloorName:(null==ec?void 0:ec.name)||"",spaceNames:D?[D.name]:ex,selectedWorkId:eo,playingWorkId:Z,onExhibitionClick:eP,onWorkClick:eN,onWorkActionClick:eM,onHeightChange:et,onClose:ej}),(0,i.jsx)(x.a,{visible:ep,onClose:()=>en(!1),pageType:"map"})]})}return(0,i.jsxs)("div",{className:H().mapPageWrapper,children:[(0,i.jsxs)("div",{className:H().mapPage,children:[(0,i.jsx)(h.A,{layout:F?"default":"only-right",title:F?e("title"):void 0,showLeftSection:!1,showRight:!0,rightButtonType:"help",onRightClick:()=>en(!0),className:"".concat(H().navbar," ").concat(F?H()["navbar--scrolled"]:"")}),(0,i.jsx)("div",{ref:es,className:"".concat(H().appBar," ").concat(F?H()["appBar--hidden"]:""),children:(0,i.jsx)("div",{className:H().pageHeaderWrapper,children:(0,i.jsx)(g.z,{variant:"withSubtitle",title:e("title"),subtitle:e("subtitle")})})}),(0,i.jsx)("div",{className:"".concat(H().tabWrapper," ").concat(F?H()["tabWrapper--sticky"]:""),children:(0,i.jsx)(n.tU,{activeKey:z,onChange:ey,activeLineMode:"full",style:{"--active-title-color":"var(--scheme-primary)","--active-line-color":"var(--scheme-primary)","--active-line-height":"2px","--title-font-size":"14px"},children:eH.map(e=>(0,i.jsx)(n.tU.Tab,{title:e.title},e.key))})}),(0,i.jsx)("div",{className:"".concat(H().tabPlaceholder," ").concat(F?H()["tabPlaceholder--visible"]:"")}),(0,i.jsxs)("div",{className:H().content,children:[e_&&(0,i.jsx)(T.R,{imageUrl:e_,imageAlt:"".concat((null==ec?void 0:ec.name)||""," ").concat(e("title")),spaces:em,selectedSpaceUid:null==D?void 0:D.uid,onSpaceClick:ef,showAllBoundaries:!1,onImageLoad:el,className:H().mapContainer}),(0,i.jsx)(v.X,{icon:c.yF,label:e("currentExhibitions")}),(0,i.jsxs)("div",{className:H().exhibitionList,children:[ed.map(e=>{var a,t,l,o,r,p,n,s,u,c;let _=null==(a=e.venue_locations)?void 0:a.find(e=>e.name===(null==ec?void 0:ec.name)),d=(null==_||null==(t=_.spaces)?void 0:t.map(e=>e.name))||[];return(0,i.jsx)(m,{image:(null==(n=e.img_key_vision)||null==(p=n.info)||null==(r=p[0])||null==(o=r.media_sources)||null==(l=o[0])?void 0:l.url)||(null==(c=e.img_key_vision)||null==(u=c.info)||null==(s=u[0])?void 0:s.value)||"",title:e.name,location:{floor:(null==ec?void 0:ec.name)||"",rooms:d},onClick:()=>eC(e.uid)},e.uid)}),0===ed.length&&(0,i.jsx)("div",{className:H().loadingContainer,children:(0,i.jsx)("p",{children:e("noExhibitions")})})]})]})]}),(0,i.jsx)(P.n,{visible:Q,exhibition:X,works:eg,currentFloorName:(null==ec?void 0:ec.name)||"",spaceNames:D?[D.name]:ex,selectedWorkId:eo,playingWorkId:Z,onExhibitionClick:eP,onWorkClick:eN,onWorkActionClick:eM,onClose:ej}),(0,i.jsx)(x.a,{visible:ep,onClose:()=>en(!1),pageType:"map"})]})}},92160:e=>{e.exports={mapPageWrapper:"page_mapPageWrapper__y79oT",mapPage:"page_mapPage__cdcvM",navbar:"page_navbar__ULcFv","navbar--scrolled":"page_navbar--scrolled__eCSAF",appBar:"page_appBar__Woztq","appBar--hidden":"page_appBar--hidden__k6PiC",pageHeaderWrapper:"page_pageHeaderWrapper__HLBu7",content:"page_content__g95l2",mapContainer:"page_mapContainer___S4U_",tabWrapper:"page_tabWrapper__Ph_Dc","tabWrapper--sticky":"page_tabWrapper--sticky__p2n9w",tabPlaceholder:"page_tabPlaceholder__Q8i_5","tabPlaceholder--visible":"page_tabPlaceholder--visible__t9hps",mapImageContainer:"page_mapImageContainer__Cr_vJ",mapImage:"page_mapImage__zKDS6",sectionHeader:"page_sectionHeader__fDT8v",exhibitionList:"page_exhibitionList__CDfOU",loadingContainer:"page_loadingContainer__yhuEH",errorContainer:"page_errorContainer__mxzkX",fullScreenMapWrapper:"page_fullScreenMapWrapper__fnlQu",fullScreenNavbar:"page_fullScreenNavbar__Qspd5",fullScreenGradient:"page_fullScreenGradient__o3_Bm",fullScreenMapContainer:"page_fullScreenMapContainer__lJ9xr",fullScreenMap:"page_fullScreenMap__Ycbtr",fullScreenFloorTabs:"page_fullScreenFloorTabs__l5E9d"}},97360:(e,a,t)=>{"use strict";t.d(a,{$:()=>i.$});var i=t(95610)},99180:(e,a,t)=>{"use strict";t.d(a,{X:()=>r});var i=t(81556);t(47256);var l=t(84087),o=t.n(l);let r=e=>{let{icon:a,label:t,rightAction:l,className:r,ariaLabel:p}=e;return(0,i.jsxs)("div",{className:"".concat(o().sectionHeader," ").concat(r||""),"aria-label":p,children:[(0,i.jsxs)("div",{className:o().sectionHeader__title,children:[(0,i.jsx)(a,{size:24,color:"white",alt:""}),(0,i.jsx)("h2",{className:o().sectionHeader__titleText,children:t})]}),l?(0,i.jsx)("div",{className:o().sectionHeader__right,children:l}):null]})}}},e=>{e.O(0,[9152,7906,4676,9969,1042,1081,4772,4730,3678,6208,4576,4078,1778,9120,664,9402,5510,7358],()=>e(e.s=76478)),_N_E=e.O()}]);